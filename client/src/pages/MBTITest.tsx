import { useState, useEffect } from 'react';
import { useLocation } from 'wouter';
import { useTranslation } from 'react-i18next';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';
import { Button } from '@/components/ui/button';
import { Progress } from '@/components/ui/progress';
import { ChevronLeft, ChevronRight, RotateCcw } from 'lucide-react';
import AdSense from '@/components/AdSense';

interface Question {
  id: number;
  text: {
    ko: string;
    en: string;
    ja: string;
  };
  dimension: 'EI' | 'SN' | 'TF' | 'JP';
  weight: 'E' | 'I' | 'S' | 'N' | 'T' | 'F' | 'J' | 'P';
}

interface TestStyle {
  id: string;
  name: {
    ko: string;
    en: string;
    ja: string;
  };
  description: {
    ko: string;
    en: string;
    ja: string;
  };
  emoji: string;
}

interface MBTIResult {
  type: string;
  name: {
    ko: string;
    en: string;
    ja: string;
  };
  description: {
    ko: string;
    en: string;
    ja: string;
  };
  traits: {
    ko: string[];
    en: string[];
    ja: string[];
  };
  careers: {
    ko: string[];
    en: string[];
    ja: string[];
  };
  famous: {
    ko: string[];
    en: string[];
    ja: string[];
  };
}

const testStyles: TestStyle[] = [
  {
    id: 'balance',
    name: {
      ko: 'ë°¸ëŸ°ìŠ¤ ê²Œì„',
      en: 'Balance Game',
      ja: 'ãƒãƒ©ãƒ³ã‚¹ã‚²ãƒ¼ãƒ '
    },
    description: {
      ko: 'ì„ íƒì˜ ë”œë ˆë§ˆë¡œ ì„±ê²© íŒŒì•…',
      en: 'Understand personality through choice dilemmas',
      ja: 'é¸æŠã®ã‚¸ãƒ¬ãƒ³ãƒã§æ€§æ ¼æŠŠæ¡'
    },
    emoji: 'âš–ï¸'
  },
  {
    id: 'workplace',
    name: {
      ko: 'íšŒì‚¬ ìƒí™œ',
      en: 'Office Life',
      ja: 'ä¼šç¤¾ç”Ÿæ´»'
    },
    description: {
      ko: 'ì§ì¥ì—ì„œì˜ í–‰ë™ íŒ¨í„´ ë¶„ì„',
      en: 'Analyze behavior patterns at work',
      ja: 'è·å ´ã§ã®è¡Œå‹•ãƒ‘ã‚¿ãƒ¼ãƒ³åˆ†æ'
    },
    emoji: 'ğŸ¢'
  },
  {
    id: 'routine',
    name: {
      ko: 'í•˜ë£¨ ë£¨í‹´',
      en: 'Daily Routine',
      ja: 'ä¸€æ—¥ã®ãƒ«ãƒ¼ãƒãƒ³'
    },
    description: {
      ko: 'ì¼ìƒ ìŠµê´€ìœ¼ë¡œ ì„±ê²© ë¶„ì„',
      en: 'Analyze personality through daily habits',
      ja: 'æ—¥å¸¸ç¿’æ…£ã§æ€§æ ¼åˆ†æ'
    },
    emoji: 'ğŸŒ…'
  },
  {
    id: 'lifestyle',
    name: {
      ko: 'ì¼ìƒ ê¸°ë°˜',
      en: 'Lifestyle Based',
      ja: 'æ—¥å¸¸ãƒ™ãƒ¼ã‚¹'
    },
    description: {
      ko: 'ìƒí™œ ë°©ì‹ìœ¼ë¡œ ì„±ê²© íŒŒì•…',
      en: 'Understand personality through lifestyle',
      ja: 'ç”Ÿæ´»æ–¹å¼ã§æ€§æ ¼æŠŠæ¡'
    },
    emoji: 'ğŸ '
  },
  {
    id: 'romance',
    name: {
      ko: 'ì—°ì•  ê¸°ë°˜',
      en: 'Romance Based',
      ja: 'æ‹æ„›ãƒ™ãƒ¼ã‚¹'
    },
    description: {
      ko: 'ì—°ì•  ìƒí™©ì—ì„œì˜ ì„±í–¥ ë¶„ì„',
      en: 'Analyze tendencies in romantic situations',
      ja: 'æ‹æ„›çŠ¶æ³ã§ã®æ€§å‘åˆ†æ'
    },
    emoji: 'ğŸ’•'
  },
  {
    id: 'professional',
    name: {
      ko: 'ì§ì¥ì¸ ì»¨ì…‰',
      en: 'Professional Concept',
      ja: 'ãƒ“ã‚¸ãƒã‚¹ãƒãƒ³ã‚³ãƒ³ã‚»ãƒ—ãƒˆ'
    },
    description: {
      ko: 'ì—…ë¬´ í™˜ê²½ì—ì„œì˜ ì„±ê²© ìœ í˜•',
      en: 'Personality types in work environment',
      ja: 'æ¥­å‹™ç’°å¢ƒã§ã®æ€§æ ¼ã‚¿ã‚¤ãƒ—'
    },
    emoji: 'ğŸ’¼'
  },
  {
    id: 'social',
    name: {
      ko: 'ì†Œì…œ ë¯¸ë””ì–´',
      en: 'Social Media',
      ja: 'ã‚½ãƒ¼ã‚·ãƒ£ãƒ«ãƒ¡ãƒ‡ã‚£ã‚¢'
    },
    description: {
      ko: 'SNS í™œë™ìœ¼ë¡œ ë³´ëŠ” ì„±ê²©',
      en: 'Personality through SNS activities',
      ja: 'SNSæ´»å‹•ã§è¦‹ã‚‹æ€§æ ¼'
    },
    emoji: 'ğŸ“±'
  },
  {
    id: 'travel',
    name: {
      ko: 'ì—¬í–‰ ìŠ¤íƒ€ì¼',
      en: 'Travel Style',
      ja: 'æ—…è¡Œã‚¹ã‚¿ã‚¤ãƒ«'
    },
    description: {
      ko: 'ì—¬í–‰ íŒ¨í„´ìœ¼ë¡œ ì•Œì•„ë³´ëŠ” ì„±ê²©',
      en: 'Personality through travel patterns',
      ja: 'æ—…è¡Œãƒ‘ã‚¿ãƒ¼ãƒ³ã§çŸ¥ã‚‹æ€§æ ¼'
    },
    emoji: 'âœˆï¸'
  },
  {
    id: 'study',
    name: {
      ko: 'í•™ìŠµ ë°©ì‹',
      en: 'Learning Style',
      ja: 'å­¦ç¿’æ–¹å¼'
    },
    description: {
      ko: 'ê³µë¶€ ë°©ë²•ìœ¼ë¡œ ì„±ê²© ë¶„ì„',
      en: 'Analyze personality through study methods',
      ja: 'å‹‰å¼·æ–¹æ³•ã§æ€§æ ¼åˆ†æ'
    },
    emoji: 'ğŸ“š'
  },
  {
    id: 'crisis',
    name: {
      ko: 'ìœ„ê¸° ìƒí™©',
      en: 'Crisis Situation',
      ja: 'å±æ©ŸçŠ¶æ³'
    },
    description: {
      ko: 'ë¬¸ì œ í•´ê²° ë°©ì‹ìœ¼ë¡œ ì„±ê²© íŒŒì•…',
      en: 'Understand personality through problem-solving approaches',
      ja: 'å•é¡Œè§£æ±ºæ–¹å¼ã§æ€§æ ¼æŠŠæ¡'
    },
    emoji: 'ğŸš¨'
  }
];

// Ready for new questions
const questionSets: Record<string, Question[]> = {
  balance: [
    {
      id: 1,
      text: {
        ko: "ì£¼ë§ì´ë©´?",
        en: "On weekends?",
        ja: "é€±æœ«ã¨ã„ãˆã°ï¼Ÿ"
      },
      dimension: 'EI',
      weight: 'E'
    },
    {
      id: 2,
      text: {
        ko: "ì—¬í–‰ ìŠ¤íƒ€ì¼",
        en: "Travel style",
        ja: "æ—…è¡Œã‚¹ã‚¿ã‚¤ãƒ«"
      },
      dimension: 'JP',
      weight: 'J'
    },
    {
      id: 3,
      text: {
        ko: "ëŒ€í™” ìŠ¤íƒ€ì¼",
        en: "Communication style",
        ja: "ä¼šè©±ã‚¹ã‚¿ã‚¤ãƒ«"
      },
      dimension: 'TF',
      weight: 'T'
    },
    {
      id: 4,
      text: {
        ko: "ì •ë³´ ì–»ê¸°",
        en: "Getting information",
        ja: "æƒ…å ±åé›†"
      },
      dimension: 'SN',
      weight: 'S'
    },
    {
      id: 5,
      text: {
        ko: "ìƒˆë¡œìš´ ì‚¬ëŒê³¼ ë§Œë‚¨",
        en: "Meeting new people",
        ja: "æ–°ã—ã„äººã¨ã®å‡ºä¼šã„"
      },
      dimension: 'EI',
      weight: 'E'
    },
    {
      id: 6,
      text: {
        ko: "ì‹œê°„ ê´€ë¦¬",
        en: "Time management",
        ja: "æ™‚é–“ç®¡ç†"
      },
      dimension: 'JP',
      weight: 'J'
    },
    {
      id: 7,
      text: {
        ko: "ê²°ì •í•  ë•Œ",
        en: "When making decisions",
        ja: "æ±ºå®šã™ã‚‹æ™‚"
      },
      dimension: 'TF',
      weight: 'T'
    },
    {
      id: 8,
      text: {
        ko: "ì§ê° vs ì‚¬ì‹¤",
        en: "Intuition vs Facts",
        ja: "ç›´æ„Ÿ vs äº‹å®Ÿ"
      },
      dimension: 'SN',
      weight: 'S'
    },
    {
      id: 9,
      text: {
        ko: "ëª¨ì„ ì°¸ì—¬",
        en: "Group participation",
        ja: "é›†ã¾ã‚Šã¸ã®å‚åŠ "
      },
      dimension: 'EI',
      weight: 'E'
    },
    {
      id: 10,
      text: {
        ko: "í•  ì¼ ë¦¬ìŠ¤íŠ¸",
        en: "To-do list",
        ja: "ã‚„ã‚‹ã“ã¨ãƒªã‚¹ãƒˆ"
      },
      dimension: 'JP',
      weight: 'J'
    },
    {
      id: 11,
      text: {
        ko: "ì¹œêµ¬ ê³ ë¯¼ ìƒë‹´",
        en: "Friend's problem consultation",
        ja: "å‹äººã®æ‚©ã¿ç›¸è«‡"
      },
      dimension: 'TF',
      weight: 'T'
    },
    {
      id: 12,
      text: {
        ko: "ê´€ì°° ìŠ¤íƒ€ì¼",
        en: "Observation style",
        ja: "è¦³å¯Ÿã‚¹ã‚¿ã‚¤ãƒ«"
      },
      dimension: 'SN',
      weight: 'S'
    },
    {
      id: 13,
      text: {
        ko: "íšŒì‹ì—ì„œì˜ ë‚˜",
        en: "Me at company dinner",
        ja: "ä¼šé£Ÿã§ã®ç§"
      },
      dimension: 'EI',
      weight: 'E'
    },
    {
      id: 14,
      text: {
        ko: "ë¬¸ì œ ìƒí™©",
        en: "Problem situations",
        ja: "å•é¡ŒçŠ¶æ³"
      },
      dimension: 'JP',
      weight: 'J'
    },
    {
      id: 15,
      text: {
        ko: "íŒ€ í”„ë¡œì íŠ¸",
        en: "Team projects",
        ja: "ãƒãƒ¼ãƒ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ"
      },
      dimension: 'TF',
      weight: 'T'
    }
  ]
};

// Balance game choice functions
const getBalanceChoiceA = (questionId: number): string => {
  const choices = [
    "ì¹œêµ¬ë“¤ê³¼ ë°”ì˜ê²Œ ë†€ê¸°", "ê³„íš ê¼¼ê¼¼íˆ ì„¸ìš°ê³  ì¶œë°œ", "í•µì‹¬ ìš”ì ë¶€í„° ë§í•¨", "ì‹¤ì œ ê²½í—˜, ì‚¬ë¡€ ìœ„ì£¼",
    "ì–´ìƒ‰í•´ë„ ê¸ˆë°© ì¹œí•´ì§", "ìŠ¤ì¼€ì¤„í‘œ í•„ìˆ˜", "ë…¼ë¦¬ì  ê¸°ì¤€ ìš°ì„ ", "íŒ©íŠ¸ ì¤‘ì‹œ",
    "ì ê·¹ì ìœ¼ë¡œ ë¶„ìœ„ê¸° ì´ë”", "ê³„íšëŒ€ë¡œ ì•ˆ ë˜ë©´ ë¶ˆì•ˆ", "í•´ê²°ì±… ë¨¼ì € ì œì‹œ", "ì„¸ë¶€ ì •ë³´ì— ë¯¼ê°í•¨",
    "ì¤‘ì‹¬ì— ì„œì„œ ë¦¬ë“œ", "ë¯¸ë¦¬ ê³„íší•´ ë°©ì§€", "ëª©í‘œ ì¤‘ì‹¬, íš¨ìœ¨ ìš°ì„ "
  ];
  return choices[questionId - 1] || "";
};

const getBalanceChoiceB = (questionId: number): string => {
  const choices = [
    "í˜¼ìë§Œì˜ íœ´ì‹ì´ ìµœê³ ", "ê°€ì„œ ì •í•˜ì, ì¦‰í¥ì´ ì¢‹ì•„", "ë¶„ìœ„ê¸°Â·ê°ì • ì¤‘ì‹¬ìœ¼ë¡œ ë§í•¨", "ì „ì²´ íë¦„ê³¼ ìƒìƒ ìœ„ì£¼",
    "ì²œì²œíˆ ì ì‘í•˜ë©° ê±°ë¦¬ ë‘ ", "ëŠê¸‹í•˜ê²Œ ìœ ë™ì ìœ¼ë¡œ", "ë‚´ ê°ì •ì´ ë” ì¤‘ìš”í•¨", "ì§ê´€ê³¼ ì˜ê°ì´ ë” ì™€ë‹¿ìŒ",
    "ì¡°ìš©íˆ ë“£ê³  ê´€ì°°í•¨", "ìƒí™© ë”°ë¼ ìœ ì—°í•˜ê²Œ ëŒ€ì²˜", "ê°ì •ì ìœ¼ë¡œ ê³µê°í•´ì¤Œ", "í° íë¦„ê³¼ ë¶„ìœ„ê¸°ë¥¼ ë¨¼ì € ëŠë‚Œ",
    "ì¡°ìš©íˆ ì°¸ì—¬í•˜ë©° ëŒ€í™” ì§‘ì¤‘", "ë‹¥ì¹˜ë©´ ì˜ í•´ê²°í•˜ë©´ ë¨", "íŒ€ì›Œí¬ì™€ ë¶„ìœ„ê¸° ì¤‘ì‹œ"
  ];
  return choices[questionId - 1] || "";
};

// Choice functions for all styles
const getChoiceA = (style: string, questionId: number): string => {
  const styleChoices: Record<string, string[]> = {
    workplace: [
      "ì˜ê²¬ì„ ë¨¼ì € ë‚´ëŠ” í¸", "í•  ì¼ ë¦¬ìŠ¤íŠ¸ë¥¼ ë¯¸ë¦¬ ì‘ì„±", "ìˆ˜ì¹˜ì™€ ì‚¬ì‹¤ ìœ„ì£¼ë¡œ ì‘ì„±", "ê°œì„ ì ë¶€í„° ëª…í™•í•˜ê²Œ ì „ë‹¬",
      "ëª¨ë‘ì™€ ì´ì•¼ê¸°í•˜ë©° ë¶„ìœ„ê¸° ë©”ì´ì»¤", "ê³„íšëŒ€ë¡œ ìˆœì„œëŒ€ë¡œ ì§„í–‰", "í˜„ì‹¤ ê°€ëŠ¥í•œ ì•„ì´ë””ì–´ ì¤‘ì‹¬", "ì‚¬ì‹¤ ì¤‘ì‹¬ìœ¼ë¡œ ë°”ë¡œ í”¼ë“œë°±",
      "ì—¬ëŸ¬ ë™ë£Œë“¤ê³¼ í•¨ê»˜ ë¨¹ìŒ", "ì´ë¯¸ ì™„ë£Œí–ˆê±°ë‚˜ ê±°ì˜ ëë‚¨", "ì‹¤í˜„ ê°€ëŠ¥ì„± ë¨¼ì € ë”°ì§", "ë…¼ë¦¬ë¡œ ì„¤ë“í•˜ë ¤ í•¨",
      "ë™ë£Œì™€ ìˆ˜ë‹¤ë¡œ í‘¼ë‹¤", "ê³¼ê±° ì‚¬ë¡€ì™€ í†µê³„ ì¤‘ì‹¬", "ê²°ê³¼ì™€ ì„±ê³¼ ìœ„ì£¼ë¡œ ê²°ì •"
    ],
    routine: [
      "ì•ŒëŒ ì „ì— ì¼ì–´ë‚˜ ì¤€ë¹„ ì² ì €", "ì˜¤ëŠ˜ í•  ì¼ì„ ì •ë¦¬í•¨", "ê¼­ ì±™ê²¨ë¨¹ëŠ” í¸", "ì‚¬ëŒ ë§ì€ ê³³ë„ ê´œì°®ìŒ",
      "ì£¼ë³€ ì‚¬ëŒê³¼ ì‰½ê²Œ ëŒ€í™”í•¨", "ëŠ˜ ê°€ëŠ” ìµìˆ™í•œ ë©”ë‰´", "ìº˜ë¦°ë”, í”Œë˜ë„ˆ í™œìš©", "ì—¬ëŸ¬ ì‚¬ëŒê³¼ ëŒ€í™”í•˜ë©° ì‰¼",
      "ì‹œê°„ê³¼ ì¥ì†Œ ë¯¸ë¦¬ ì •í•¨", "ë…¼ë¦¬ì ìœ¼ë¡œ ì •ë¦¬í•´ í•´ì†Œ", "ì •í•´ì§„ ë£¨í‹´ ì•ˆì—ì„œ ì§‘ì¤‘", "ì¦‰ì‹œ í‘œí˜„í•˜ê³  ë‚˜ëˆ„ëŠ” í¸",
      "ê¾¸ì¤€íˆ ê³„íšì ìœ¼ë¡œ í•¨", "í•˜ë£¨ë¥¼ ì •ë¦¬í•˜ë©° ê¸°ë¡", "ë‚´ì¼ ê³„íšì„ ì •ë¦¬í•¨"
    ],
    lifestyle: [
      "í•„ìš”í•œ ê±¸ ë¯¸ë¦¬ ë©”ëª¨í•´ë‘ê³  ê°", "ìì£¼ ë§ˆì‹œëŠ” ë©”ë‰´ ê³ ì •", "ë°”ë¡œ ë°›ëŠ” í¸", "ë°”ë¡œ OK",
      "ê¼¼ê¼¼íˆ ê¸°ì–µí•˜ê³  ì¤€ë¹„í•¨", "ì§€ë„ë‚˜ ì•±ìœ¼ë¡œ ì •í™•íˆ í™•ì¸", "íŒ©íŠ¸ ì¤‘ì‹¬ì˜ ê¸°ì‚¬ ì„ í˜¸", "ì›ì¸Â·í•´ê²° ë¨¼ì € ìƒê°",
      "í•˜ë£¨ ì¼ì • ë¯¸ë¦¬ ì§œë‘ ", "í‰ì ê³¼ í›„ê¸° ì¤‘ìš”", "ë¨¼ì € ë§ ê±¸ê¸°ë„ í•¨", "ì •í•´ì§„ ë°©ì‹ìœ¼ë¡œ ê¹”ë”í•˜ê²Œ",
      "ê¾¸ì¤€íˆ ê¸°ë¡í•˜ë©° ì •ë¦¬", "ì´ì„±ì ìœ¼ë¡œ í•´ë‹µ ì œì‹œ", "ì¹œêµ¬ì™€ ì–´ìš¸ë¦¬ê¸°"
    ],
    romance: [
      "ë¨¼ì € ì—°ë½ì„ ìì£¼ í•¨", "ë¯¸ë¦¬ ê¼¼ê¼¼íˆ ê³„íší•¨", "êµ¬ì²´ì ì¸ ë§ì´ ë” ì‹ ë¢°ê°", "í˜„ì‹¤ì ì¸ í•´ê²°ì±… ì œì‹œ",
      "ìì£¼ í‘œí˜„í•˜ê³  ì§ì ‘ì ìœ¼ë¡œ", "ì´ë²¤íŠ¸ ì¤€ë¹„ ì² ì €íˆ í•¨", "ì›ì¸ê³¼ í•´ê²°ì„ ì°¾ìŒ", "ìì£¼ í™•ì¸í•˜ê³  ì†Œí†µí•¨",
      "ìµìˆ™í•œ ì¥ì†Œ ì„ í˜¸", "ì£¼ë„ì ìœ¼ë¡œ ë¦¬ë“œ", "ì•ˆì •ì ì´ê³  ê³„íšì ì¸ ê´€ê³„", "ë…¼ë¦¬ì ìœ¼ë¡œ ì •ë¦¬í•˜ë ¤ í•¨",
      "ì§ì ‘ í–‰ë™ìœ¼ë¡œ í‘œí˜„", "ë§ ê·¸ëŒ€ë¡œ ë°›ì•„ë“¤ì„", "ì†”ì§í•¨ê³¼ í•©ë¦¬ì„±"
    ],
    professional: [
      "í•˜ë£¨ ê³„íšì„ ì„¸ìš°ê³  ì‹œì‘", "ë¬¸ì„œí™”, ì •ë¦¬ëœ ë°©ì‹ ì„ í˜¸", "ì˜ê²¬ì„ í™œë°œíˆ ì œì‹œí•¨", "í° ê·¸ë¦¼ì„ ë¨¼ì € ê·¸ë¦°ë‹¤",
      "ë¯¸ë¦¬ ì²˜ë¦¬í•´ ì—¬ìœ  í™•ë³´", "ê°ê´€ì  ì›ì¸ì„ ë¶„ì„", "ì£¼ë„ì ìœ¼ë¡œ ì¡°ìœ¨í•˜ëŠ” í¸", "ë‹¨ê³„ë³„ ì²´í¬ë¦¬ìŠ¤íŠ¸ í™œìš©",
      "ëª…í™•í•œ ê·¼ê±°ì™€ ë°ì´í„° ì¤‘ì‹¬", "ê°œì„ ì ì„ ì¤‘ì‹¬ìœ¼ë¡œ ë“£ëŠ”ë‹¤", "ëƒ‰ì •í•˜ê²Œ íŒë‹¨ í›„ ìˆ˜ìš©", "ë¨¼ì € ë¶„ìœ„ê¸°ë¥¼ ì´ë”",
      "ë¯¸ë¦¬ ì¤€ë¹„í•˜ê³  ì ê·¹ ì°¸ì—¬", "ë³€í™”ì— ì ê·¹ì ìœ¼ë¡œ ì ì‘", "ì—…ë¬´ ì •ë¦¬í•˜ë©° ë³µê¸°"
    ],
    social: [
      "ë°”ë¡œ ê¸€/ì‚¬ì§„ ì˜¬ë¦¼", "ì ê·¹ì ìœ¼ë¡œ ì°¸ì—¬", "ì§„ì§œ ê³µê°ë  ë•Œë§Œ ëˆ„ë¦„", "ë¨¼ì € ê±¸ê¸°ë„ í•¨",
      "ì˜ ì •ë¦¬ëœ ì½˜ì…‰íŠ¸ ì¤‘ì‹¬", "ì •ë³´ ì „ë‹¬ì— ì´ˆì ", "ì°¸ì—¬í•˜ê³  ì§ˆë¬¸ë„ í•¨", "ì£¼ê¸°ì ìœ¼ë¡œ ì „ì²´ ì •ë¹„",
      "ë°”ë¡œ ë”°ë¼í•˜ëŠ” í¸", "ë¯¸ë¦¬ ë©”ëª¨í•˜ê³  ì±™ê¹€", "ì •ë³´ ìˆ˜ì§‘Â·ê³µìœ ", "ìì£¼ ì°¸ì—¬í•¨",
      "ê¸€/ì‚¬ì§„ ê¼¼ê¼¼íˆ ê³ ì¹¨", "ì£¼ì œë³„ë¡œ ì •ë¦¬í•¨", "ì§§ê³  ëª…í™•í•˜ê²Œ ì „ë‹¬"
    ],
    travel: [
      "ì² ì €íˆ ì‚¬ì „ ê³„íš", "ëª…ì†Œ, ë§›ì§‘ ë¦¬ìŠ¤íŠ¸ ì™„ì„±", "ê°€ë°© ë¯¸ë¦¬ ì±™ê¸°ê³  ì²´í¬", "ì¼ì° ë„ì°©í•´ ì—¬ìœ  ìˆê²Œ",
      "ì§€ë„ ë³´ê³  ë¹ ë¥´ê²Œ í•´ê²°", "ì›ì¸ ë¶„ì„í•˜ê³  ì¡°ì •", "ì‚¬ì§„ ì •ë¦¬, ê¸°ë¡ ê¼¼ê¼¼", "ì¬ë°Œì–´ ë³´ì—¬ì„œ ë°”ë¡œ OK",
      "í•  ì¼ ì¤‘ì‹¬ìœ¼ë¡œ ì›€ì§ì„", "í›„ê¸°, í‰ì  ë“± ë°ì´í„° ê¸°ë°˜", "ê°€ë³´ë©´ ì¢‹ì§€! ì ê·¹ì ", "ë£¨íŠ¸ë³„ë¡œ ì² ì €íˆ ìµœì í™”",
      "ìƒˆë¡œìš´ ì‚¬ëŒê³¼ ì‰½ê²Œ ì–´ìš¸ë¦¼", "ì‹¤ìš©ì ì¸ ê²ƒ ìœ„ì£¼", "ì‚¬ì§„ ì •ë¦¬ì™€ í›„ê¸° ì‘ì„±"
    ],
    study: [
      "ê³„íší‘œë¶€í„° ì‘ì„±", "ë…¸íŠ¸ë¡œ ì •ë¦¬í•˜ê³  ìš”ì•½", "ì›ì¸ ë¶„ì„í•˜ê³  í•´ê²°", "í•„ê¸° ì •ë¦¬ ì² ì €íˆ",
      "ë…¼ë¦¬ì ì¸ êµ¬ì¡° ìš°ì„ ", "ë°”ë¡œ ì§ˆë¬¸í•˜ê±°ë‚˜ ê²€ìƒ‰", "í˜‘ì—…ìœ¼ë¡œ íš¨ìœ¨ ìƒìŠ¹", "ë³µìŠµ ë£¨í‹´ ì² ì €íˆ",
      "ëƒ‰ì •í•˜ê²Œ ìˆ˜ìš©", "ì‹œê°ì  ë„í‘œ/ê·¸ë˜í”„", "êµ¬ì¡°ë¶€í„° ë¨¼ì € ì´í•´", "ì¤‘ê°„ì¤‘ê°„ ê³„íšì ìœ¼ë¡œ íœ´ì‹",
      "í•­ìƒ ê°™ì€ ê³µê°„ ì„ í˜¸", "ê³„íšëœ ë£¨í‹´ì— í¬í•¨", "í”¼ë“œë°±ê³¼ ì •ë¦¬ê¹Œì§€ ì™„ë£Œ"
    ],
    crisis: [
      "ë°”ë¡œ ëŒ€ì²˜ í”Œëœì„ ë§Œë“¦", "ìš°ì„ ìˆœìœ„ ì •í•´ ì§„í–‰", "ë¬¸ì œ ì›ì¸ë¶€í„° ë¶„ì„", "ì‚¬ì‹¤Â·ë…¼ë¦¬ë¡œ í•´ê²°",
      "ë³‘ì›, ì•½êµ­ ë“± ë¹ ë¥´ê²Œ ìˆ˜ìŠµ", "ì „ëµ ë¬¸ì œë¶€í„° ë˜ì§šìŒ", "ìµœëŒ€í•œ ë°”ë¡œ ì—°ë½Â·ì¡°ìœ¨", "ì¦‰ì‹œ ì…ì¥ ì •ë¦¬ í›„ ëŒ€ì‘",
      "ë¶„ì„ì  ì‹œì„ ìœ¼ë¡œ íŒŒì•…", "ëŒ€ì•ˆ ê³„íš ì‹¤í–‰", "ì¹¨ì°©í•˜ê²Œ ë‹¨ê³„ë³„ ëŒ€ì‘", "ë…¼ë¦¬ì  ê·¼ê±° ì œì‹œ",
      "ë¨¼ì € ì£¼ë³€ ì‚¬ëŒ ì±™ê¹€", "ë¹ ë¥´ê²Œ ê²°ì •í•˜ê³  ì‹¤í–‰"
    ]
  };
  
  const choices = styleChoices[style] || [];
  return choices[questionId - 1] || "";
};

const getChoiceB = (style: string, questionId: number): string => {
  const styleChoices: Record<string, string[]> = {
    workplace: [
      "ë‹¤ë¥¸ ì‚¬ëŒ ì–˜ê¸°ë¥¼ ë“£ê³  ë§í•¨", "ì¤‘ìš”í•œ ê²ƒë§Œ ê¸°ì–µí•´ë‘ê³  ì‹œì‘", "ëŠë‚Œê³¼ íë¦„ ìœ„ì£¼ë¡œ ì„¤ëª…", "ê¸°ë¶„ì„ ë°°ë ¤í•˜ë©° ë§í•¨",
      "ì¹œí•œ ëª‡ ëª…ê³¼ ì¡°ìš©íˆ ëŒ€í™”", "ìš°ì„ ìˆœìœ„ ë°”ê¿”ê°€ë©° ìœ ì—°í•˜ê²Œ", "ë…ì°½ì ì´ê³  ìƒˆë¡œìš´ ì ‘ê·¼ ìš°ì„ ", "ê°ì • ìƒí•˜ì§€ ì•Šê²Œ ì—ë‘˜ëŸ¬ í‘œí˜„",
      "í˜¼ì í˜¹ì€ ì†Œìˆ˜ì™€ ë¨¹ëŠ” ê²Œ í¸í•¨", "ë§ˆì§€ë§‰ ë‚  ì§‘ì¤‘í•´ì„œ ì²˜ë¦¬", "ì°¸ì‹ í•¨, ì°½ì˜ì„±ì´ ë¨¼ì €", "ì„œë¡œ ê°ì •ì„ ë¨¼ì € ì´í•´í•˜ë ¤ í•¨",
      "í˜¼ì ì •ë¦¬í•˜ëŠ” ì‹œê°„ìœ¼ë¡œ í‘¼ë‹¤", "ìƒˆë¡œìš´ íŠ¸ë Œë“œì™€ ê°œë… ìš°ì„ ", "ë™ë£Œ ê´€ê³„ì™€ ë¶„ìœ„ê¸°ë„ ê³ ë ¤"
    ],
    routine: [
      "ì•ŒëŒ ì—¬ëŸ¬ ë²ˆ, ì—¬ìœ ë¡­ê²Œ ì‹œì‘", "ìƒê°ë‚˜ëŠ” ëŒ€ë¡œ í•˜ë£¨ ì‹œì‘", "ì•ˆ ë¨¹ê±°ë‚˜ ìƒí™©ì— ë”°ë¼ ë‹¤ë¦„", "í˜¼ì ìˆëŠ” ê²Œ ë” í¸í•¨",
      "ì´ì–´í° ë¼ê³  ì¡°ìš©íˆ ìˆìŒ", "ìƒˆë¡œìš´ ë©”ë‰´ ì‹œë„ë„ ì¢‹ì•„í•¨", "ë¨¸ë¦¿ì†ìœ¼ë¡œë§Œ ëŒ€ëµ ì •ë¦¬", "í˜¼ì ì¡°ìš©íˆ ì‰¬ëŠ” í¸",
      "ì¦‰í¥ì ìœ¼ë¡œ ë§Œë‚˜ë„ OK", "ê°ì •ì„ í„¸ì–´ë‚´ë©° í•´ì†Œ", "ìœ ë™ì ì¸ ìƒí™©ì—ì„œ ëª°ì…", "í˜¼ì ê³±ì”¹ê³  ì •ë¦¬í•œ í›„ í‘œí˜„",
      "í•˜ê³  ì‹¶ì„ ë•Œë§Œ í•˜ëŠ” í¸", "í”¼ê³¤í•˜ë©´ ë°”ë¡œ ì·¨ì¹¨", "ì˜¤ëŠ˜ ìˆì—ˆë˜ ê°ì •ì„ ë˜ìƒˆê¹€"
    ],
    lifestyle: [
      "ë§¤ì¥ ëŒë©° ëˆˆì— ë„ëŠ” ê±¸ ê³ ë¦„", "ë§¤ë²ˆ ìƒˆë¡œìš´ ë©”ë‰´ ë„ì „", "ì ê¹ ê³ ë¯¼í•˜ê±°ë‚˜ ë¬¸ìë¡œ ëŒë¦¼", "ì¼ì • ì¡°ì •ì´ í•„ìš”í•¨",
      "ë‹¹ì¼ì— ìƒê°ë‚˜ë©´ ì±™ê¹€", "ë°©í–¥ ê°ìœ¼ë¡œ ì›€ì§ì„", "ì¸ì‚¬ì´íŠ¸ë‚˜ ìŠ¤í† ë¦¬ ì¤‘ì‹¬ ì„ í˜¸", "ê°ì •ì˜ íë¦„ì„ ìš°ì„  ê³ ë ¤",
      "ëŠê¸‹í•˜ê²Œ í˜ëŸ¬ê°€ëŠ” ëŒ€ë¡œ", "ëŒë¦¬ëŠ” ì œëª©ì´ë‚˜ í¬ìŠ¤í„°", "ê¸°ë‹¤ë¦¬ë©° ë¶„ìœ„ê¸° ì‚´í•Œ", "ë‚´ê°€ ë³´ê¸° í¸í•˜ë©´ OK",
      "í•˜ê³  ì‹¶ì„ ë•Œë§Œ ì‘ì„±", "ê³µê° ë¨¼ì €, ì¡°ìš©íˆ ë“¤ì–´ì¤Œ", "í˜¼ì ì˜í™”Â·ì±…Â·ì‚°ì±…"
    ],
    romance: [
      "ìƒëŒ€ê°€ ë¨¼ì € ì˜¤ê¸¸ ê¸°ë‹¤ë¦¼", "ë‹¹ì¼ ê¸°ë¶„ ë”°ë¼ ê²°ì •", "ë¶„ìœ„ê¸°ì™€ ë‰˜ì•™ìŠ¤ë¥¼ ì¤‘ì‹œ", "ê³µê°í•˜ë©° ë§ˆìŒì„ ë‚˜ëˆ”",
      "ëˆˆë¹›, í–‰ë™ ë“±ìœ¼ë¡œ í‘œí˜„", "ë§ˆìŒ ê°€ëŠ” ëŒ€ë¡œ ì¤€ë¹„", "ê°ì •ì„ ë¨¼ì € ë‚˜ëˆ”", "ë³„ë¡œ ì‹ ê²½ ì•ˆ ì”€",
      "ìƒˆë¡œìš´ ì¥ì†Œ ì‹œë„", "ì¡°ì‹¬ìŠ¤ëŸ½ê²Œ ë°˜ì‘", "ììœ ë¡­ê³  ìœ ë™ì ì¸ ê´€ê³„", "ê°ì •ì— í¬ê²Œ í”ë“¤ë¦¼",
      "ê¸€, ì„ ë¬¼ ë“± ê°„ì ‘ í‘œí˜„", "ì˜ë„ë‚˜ ê°ì •ì„ ë¨¼ì € íŒŒì•…", "ê°ì •ì  ê³µê°ê³¼ ë°°ë ¤"
    ],
    professional: [
      "ê·¸ë‚  ìƒí™©ì— ë”°ë¼ ì‹œì‘", "ë§ë¡œ ì „ë‹¬í•˜ë©° ìœ ë™ì ìœ¼ë¡œ", "ë“£ê³  ì •ë¦¬í•œ í›„ ë§í•¨", "ì‘ì€ ì‹¤ë¬´ë¶€í„° ì ‘ê·¼",
      "ë²¼ë½ì¹˜ê¸° ì§‘ì¤‘ë ¥ ë°œíœ˜", "ì‚¬ëŒì˜ ê°ì •ì„ ë¨¼ì € ê³ ë ¤", "íë¦„ì— ë”°ë¼ ë§ì¶”ëŠ” í¸", "íë¦„ ë”°ë¼ ìœ ë™ì ìœ¼ë¡œ ì²˜ë¦¬",
      "í•µì‹¬ë§Œ ìš”ì•½í•˜ê³  ì „ë‹¬", "ê°ì •ì  í‘œí˜„ì´ ë¨¼ì € ë‹¤ê°€ì˜¨ë‹¤", "ì •ì„œì  ë‰˜ì•™ìŠ¤ë¥¼ ê³ ë ¤", "ì¡°ìš©íˆ ì°¸ì„í•´ ë§ì¶°ì¤Œ",
      "ìƒí™© ë´ì„œ ìœ ë™ì ìœ¼ë¡œ ëŒ€ì²˜", "ê¸°ì¡´ ë°©ì‹ ì„ í˜¸", "ëë‚˜ë©´ ë°”ë¡œ í‡´ê·¼"
    ],
    social: [
      "êµ¬ê²½ë§Œ í•˜ë‹¤ê°€ ë‚˜ì¤‘ì— ì—…ë¡œë“œ", "ëˆˆíŒ…ë§Œ í•˜ëŠ” í¸", "ì›¬ë§Œí•˜ë©´ ëˆŒëŸ¬ì£¼ëŠ” í¸", "ìš”ì²­ ì˜¬ ë•Œë§Œ ìˆ˜ë½",
      "ê·¸ë‚  ê¸°ë¶„ ë”°ë¼ ììœ ë¡­ê²Œ", "ê°ì •Â·ì¼ìƒ ê³µìœ  ì¤‘ì‹¬", "ë³´ê¸°ë§Œ í•˜ê³  ì¡°ìš©íˆ ë¹ ì§", "ê°€ë” ìƒê°ë‚˜ë©´ ì¼ë¶€ë§Œ ì‚­ì œ",
      "ì¡°ìš©íˆ ì§€ì¼œë³´ë‹¤ê°€ ë°˜ì‘", "SNS ì•Œë¦¼ ëœ° ë•Œë§Œ ê¸°ì–µ", "ê°ì • í‘œí˜„Â·êµë¥˜", "ë¶ˆí¸í•˜ë©´ í”¼í•¨",
      "ì¦‰í¥ì ìœ¼ë¡œ ì˜¬ë¦¼", "ê°ì„±/ì¬ë¯¸ ìœ„ì£¼ë¡œ ì‚¬ìš©", "ê¸¸ê³  ë”°ëœ»í•œ ë§íˆ¬ ì„ í˜¸"
    ],
    travel: [
      "í˜„ì§€ ê°€ì„œ ìœ ë™ì ìœ¼ë¡œ", "ë¶„ìœ„ê¸° ë”°ë¼ ì›€ì§ì„", "ì „ë‚  ë°¤ì— ê¸‰íˆ ì±™ê¹€", "ì‹œê°„ ë”± ë§ì¶° ì›€ì§ì„",
      "ì£¼ë³€ì— ë¬¼ì–´ë³´ê±°ë‚˜ ê²½í—˜ ì˜ì¡´", "ê°ì • ìœ„ë¡œ ë¨¼ì € í•¨", "ë§ˆìŒì— ë“œëŠ” ê²ƒë§Œ ë‚¨ê¹€", "ê³„íš ì—†ì–´ ë¶ˆí¸í•¨",
      "í•˜ê³  ì‹¶ì€ ê²ƒë¶€í„° ì¦ê¹€", "ì§ê°ê³¼ ê°ì •ìœ¼ë¡œ ì„ íƒ", "ì‚¬ëŒ ë§ìœ¼ë©´ í”¼í•˜ê³  ì‹¶ìŒ", "ë˜ëŠ” ëŒ€ë¡œ í˜ëŸ¬ê°€ëŠ” ì—¬í–‰",
      "ë™í–‰ ì™¸ì—” ì¡°ìš©íˆ ì¦ê¹€", "ê°ì„±ì ì´ê±°ë‚˜ íŠ¹ì´í•œ ê²ƒ", "ì¶”ì–µë§Œ ê°„ì§í•˜ê³  ë„˜ì–´ê°"
    ],
    study: [
      "ì¼ë‹¨ ì‹œì‘í•˜ë©° ì¡°ì •", "ë¨¸ë¦¿ì†ìœ¼ë¡œë§Œ ì •ë¦¬", "ê·¸ëƒ¥ ë„˜ì–´ê°€ê³  ë‹¤ìŒ ë¬¸ì œ", "ì´í•´ë§Œ ë˜ë©´ íŒ¨ìŠ¤",
      "ê°ì •Â·ì´ì•¼ê¸°ë¡œ ì—°ê²°", "ë‚˜ì¤‘ì— í˜¼ì ê³ ë¯¼", "í˜¼ì í•˜ëŠ” ê²Œ ë” ì§‘ì¤‘ë¨", "ë²¼ë½ì¹˜ê¸°ë¡œ ëª°ì…",
      "ìœ„ë¡œ ë¨¼ì € ë°›ê³  ì¡°ì •", "ê°ê°ì  í‚¤ì›Œë“œ/ì´ë¯¸ì§€", "ì‚¬ë¡€/ë¹„ìœ ë¡œ ì ‘ê·¼", "í”¼ê³¤í•˜ë©´ ì¦‰ì‹œ ì‰¬ëŠ” í¸",
      "ì¹´í˜, ë„ì„œê´€ ë“± ë‹¤ì–‘í•˜ê²Œ", "í•„ìš”í•  ë•Œë§Œ ë³´ëŠ” í¸", "ì§„ë„ ëë‚˜ë©´ ì¢…ë£Œ"
    ],
    crisis: [
      "ë‹¹í™©í•˜ê³  ì¼ë‹¨ ë©ˆì¶¤", "ì¼ë‹¨ ì‹œì‘í•˜ë©° ì¡°ì •", "ê°ì •ì ìœ¼ë¡œ ë¨¼ì € ë°˜ì‘", "ê°ì •ê³¼ ê³µê°ìœ¼ë¡œ ì ‘ê·¼",
      "ì£¼ë³€ ìœ„ë¡œë¶€í„° ë°›ìŒ", "ë¶„ìœ„ê¸°ì™€ íŒ€ì›Œí¬ ì ê²€", "ì¼ë‹¨ ê±±ì •ë˜ë©° ë§ì„¤ì„", "ì¡°ìš©íˆ ì§€ë‚˜ê°€ê¸¸ ë°”ëŒ",
      "ê°ì •ì ìœ¼ë¡œ ê¹Šê²Œ ë°˜ì‘", "ê°ì • ì†Œëª¨ê°€ ì»¤ì§", "ê¸´ì¥í•´ ì‹¤ìˆ˜í•  ìˆ˜ë„", "ë¶„ìœ„ê¸° ë¨¼ì € ê³ ë ¤",
      "ë³¸ì¸ ìƒí™© ë¨¼ì € íŒŒì•…", "ì‹œê°„ì„ ë‘ê³  ê³ ë¯¼"
    ]
  };
  
  const choices = styleChoices[style] || [];
  return choices[questionId - 1] || "";
};

const getBalanceChoiceAEn = (questionId: number): string => {
  const choices = [
    "Busy hanging out with friends", "Plan meticulously before departure", "Start with key points", "Focus on actual experience and examples",
    "Quick to befriend despite awkwardness", "Schedule is essential", "Logical criteria first", "Facts are important",
    "Actively lead the atmosphere", "Anxious when plans don't work", "Offer solutions first", "Sensitive to details",
    "Stand in center and lead", "Plan ahead to prevent problems", "Goal-oriented, efficiency first"
  ];
  return choices[questionId - 1] || "";
};

const getBalanceChoiceBEn = (questionId: number): string => {
  const choices = [
    "Solo relaxation is the best", "Let's decide when we get there, spontaneity is good", "Focus on atmosphere and emotions", "Overall flow and imagination",
    "Slowly adapt while keeping distance", "Relaxed and flexible", "My emotions are more important", "Intuition and inspiration resonate more",
    "Listen and observe quietly", "Flexibly adapt to situations", "Emotionally empathize", "Feel the big picture and atmosphere first",
    "Participate quietly and focus on conversation", "Deal with it when it comes", "Teamwork and atmosphere are important"
  ];
  return choices[questionId - 1] || "";
};

const getBalanceChoiceAJa = (questionId: number): string => {
  const choices = [
    "å‹é”ã¨å¿™ã—ãéŠã¶", "è¨ˆç”»ã‚’ã—ã£ã‹ã‚Šç«‹ã¦ã¦å‡ºç™º", "è¦ç‚¹ã‹ã‚‰è©±ã™", "å®Ÿéš›ã®çµŒé¨“ã€äº‹ä¾‹ä¸­å¿ƒ",
    "æ°—ã¾ãšãã¦ã‚‚ã™ãä»²è‰¯ããªã‚‹", "ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«è¡¨å¿…é ˆ", "è«–ç†çš„åŸºæº–å„ªå…ˆ", "äº‹å®Ÿé‡è¦–",
    "ç©æ¥µçš„ã«é›°å›²æ°—ã‚’ãƒªãƒ¼ãƒ‰", "è¨ˆç”»é€šã‚Šã«ã„ã‹ãªã„ã¨ä¸å®‰", "è§£æ±ºç­–ã‚’ã¾ãšæç¤º", "è©³ç´°æƒ…å ±ã«æ•æ„Ÿ",
    "ä¸­å¿ƒã«ç«‹ã£ã¦ãƒªãƒ¼ãƒ‰", "äº‹å‰ã«è¨ˆç”»ã—ã¦é˜²æ­¢", "ç›®æ¨™ä¸­å¿ƒã€åŠ¹ç‡å„ªå…ˆ"
  ];
  return choices[questionId - 1] || "";
};

const getBalanceChoiceBJa = (questionId: number): string => {
  const choices = [
    "ä¸€äººã®ä¼‘æ¯ãŒæœ€é«˜", "è¡Œã£ã¦ã‹ã‚‰æ±ºã‚ã‚ˆã†ã€å³èˆˆãŒã„ã„", "é›°å›²æ°—ãƒ»æ„Ÿæƒ…ä¸­å¿ƒã§è©±ã™", "å…¨ä½“ã®æµã‚Œã¨æƒ³åƒä¸­å¿ƒ",
    "ã‚†ã£ãã‚Šé©å¿œã—ãªãŒã‚‰è·é›¢ã‚’ç½®ã", "ã®ã‚“ã³ã‚ŠæŸ”è»Ÿã«", "è‡ªåˆ†ã®æ„Ÿæƒ…ãŒã‚ˆã‚Šé‡è¦", "ç›´æ„Ÿã¨ã‚¤ãƒ³ã‚¹ãƒ”ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãŒã‚ˆã‚ŠéŸ¿ã",
    "é™ã‹ã«èã„ã¦è¦³å¯Ÿ", "çŠ¶æ³ã«å¿œã˜ã¦æŸ”è»Ÿã«å¯¾å‡¦", "æ„Ÿæƒ…çš„ã«å…±æ„Ÿ", "å¤§ããªæµã‚Œã¨é›°å›²æ°—ã‚’ã¾ãšæ„Ÿã˜ã‚‹",
    "é™ã‹ã«å‚åŠ ã—ã¦ä¼šè©±ã«é›†ä¸­", "æ¥ãŸã‚‰ã†ã¾ãè§£æ±ºã™ã‚Œã°ã„ã„", "ãƒãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¨é›°å›²æ°—é‡è¦–"
  ];
  return choices[questionId - 1] || "";
};

// Function to get style-specific answer options
const getAnswerOptions = (questionId: number, style: string, lang: 'ko' | 'en' | 'ja') => {
  const styleAnswers: Record<string, { value: number; label: Record<'ko' | 'en' | 'ja', string> }[]> = {
    balance: [
      { 
        value: 1, 
        label: { 
          ko: getBalanceChoiceA(questionId), 
          en: getBalanceChoiceAEn(questionId), 
          ja: getBalanceChoiceAJa(questionId) 
        } 
      },
      { 
        value: 2, 
        label: { 
          ko: getBalanceChoiceB(questionId), 
          en: getBalanceChoiceBEn(questionId), 
          ja: getBalanceChoiceBJa(questionId) 
        } 
      }
    ],
    // All other styles use A/B choice format
    default: [
      { 
        value: 1, 
        label: { 
          ko: getChoiceA(style, questionId), 
          en: getChoiceA(style, questionId), 
          ja: getChoiceA(style, questionId) 
        } 
      },
      { 
        value: 2, 
        label: { 
          ko: getChoiceB(style, questionId), 
          en: getChoiceB(style, questionId), 
          ja: getChoiceB(style, questionId) 
        } 
      }
    ]
  };

  const defaultOptions = [
    { value: 1, label: { ko: "ì „í˜€ ê·¸ë ‡ì§€ ì•Šë‹¤", en: "Strongly disagree", ja: "å…¨ããã†ã§ã¯ãªã„" } },
    { value: 2, label: { ko: "ê·¸ë ‡ì§€ ì•Šë‹¤", en: "Disagree", ja: "ãã†ã§ã¯ãªã„" } },
    { value: 3, label: { ko: "ë³´í†µì´ë‹¤", en: "Neutral", ja: "æ™®é€šã " } },
    { value: 4, label: { ko: "ê·¸ë ‡ë‹¤", en: "Agree", ja: "ãã†ã " } },
    { value: 5, label: { ko: "ë§¤ìš° ê·¸ë ‡ë‹¤", en: "Strongly agree", ja: "éå¸¸ã«ãã†ã " } }
  ];
  
  const options = styleAnswers[style] || defaultOptions;

  return options.map(option => ({
    value: option.value,
    label: option.label[lang]
  }));
};

const mbtiResults: Record<string, MBTIResult> = {
  INTJ: {
    type: "INTJ",
    name: { ko: "ì „ëµê°€", en: "The Architect", ja: "å»ºç¯‰å®¶" },
    description: {
      ko: "í˜ì‹ ì ì¸ ì•„ì´ë””ì–´ì™€ ë›°ì–´ë‚œ ì‹¤í–‰ë ¥ì„ ê°€ì§„ ì™„ë²½ì£¼ì˜ìì…ë‹ˆë‹¤.",
      en: "A perfectionist with innovative ideas and excellent execution.",
      ja: "é©æ–°çš„ãªã‚¢ã‚¤ãƒ‡ã‚¢ã¨å„ªã‚ŒãŸå®Ÿè¡ŒåŠ›ã‚’æŒã¤å®Œç’§ä¸»ç¾©è€…ã§ã™ã€‚"
    },
    traits: {
      ko: ["ë…ë¦½ì ", "ì „ëµì ", "ì™„ë²½ì£¼ì˜", "ë¯¸ë˜ì§€í–¥ì "],
      en: ["Independent", "Strategic", "Perfectionist", "Future-oriented"],
      ja: ["ç‹¬ç«‹çš„", "æˆ¦ç•¥çš„", "å®Œç’§ä¸»ç¾©", "æœªæ¥å¿—å‘"]
    },
    careers: {
      ko: ["ê³¼í•™ì", "ì—”ì§€ë‹ˆì–´", "ê±´ì¶•ê°€", "ì „ëµê¸°íšì"],
      en: ["Scientist", "Engineer", "Architect", "Strategic Planner"],
      ja: ["ç§‘å­¦è€…", "ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢", "å»ºç¯‰å®¶", "æˆ¦ç•¥ä¼ç”»è€…"]
    },
    famous: {
      ko: ["ì¼ë¡  ë¨¸ìŠ¤í¬", "ìŠ¤í‹°ë¸ í˜¸í‚¹", "ë‹ˆì½œë¼ í…ŒìŠ¬ë¼"],
      en: ["Elon Musk", "Stephen Hawking", "Nikola Tesla"],
      ja: ["ã‚¤ãƒ¼ãƒ­ãƒ³ãƒ»ãƒã‚¹ã‚¯", "ã‚¹ãƒ†ã‚£ãƒ¼ãƒ–ãƒ³ãƒ»ãƒ›ãƒ¼ã‚­ãƒ³ã‚°", "ãƒ‹ã‚³ãƒ©ãƒ»ãƒ†ã‚¹ãƒ©"]
    }
  },
  INTP: {
    type: "INTP",
    name: { ko: "ì‚¬ìƒ‰ê°€", en: "The Thinker", ja: "æ€æƒ³å®¶" },
    description: {
      ko: "ë…¼ë¦¬ì  ì‚¬ê³ ì™€ ì°½ì˜ì  ì•„ì´ë””ì–´ë¡œ ìƒˆë¡œìš´ ê°€ëŠ¥ì„±ì„ íƒêµ¬í•˜ëŠ” ì‚¬ëŒì…ë‹ˆë‹¤.",
      en: "A person who explores new possibilities with logical thinking and creative ideas.",
      ja: "è«–ç†çš„æ€è€ƒã¨å‰µé€ çš„ã‚¢ã‚¤ãƒ‡ã‚¢ã§æ–°ã—ã„å¯èƒ½æ€§ã‚’æ¢æ±‚ã™ã‚‹äººã§ã™ã€‚"
    },
    traits: {
      ko: ["ë…¼ë¦¬ì ", "ì°½ì˜ì ", "ë…ë¦½ì ", "ë¶„ì„ì "],
      en: ["Logical", "Creative", "Independent", "Analytical"],
      ja: ["è«–ç†çš„", "å‰µé€ çš„", "ç‹¬ç«‹çš„", "åˆ†æçš„"]
    },
    careers: {
      ko: ["ì—°êµ¬ì›", "í”„ë¡œê·¸ë˜ë¨¸", "ì² í•™ì", "ì‘ê°€"],
      en: ["Researcher", "Programmer", "Philosopher", "Writer"],
      ja: ["ç ”ç©¶è€…", "ãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ¼", "å“²å­¦è€…", "ä½œå®¶"]
    },
    famous: {
      ko: ["ì•Œë² ë¥´íŠ¸ ì•„ì¸ìŠˆíƒ€ì¸", "ë¹Œ ê²Œì´ì¸ ", "ì°°ìŠ¤ ë‹¤ìœˆ"],
      en: ["Albert Einstein", "Bill Gates", "Charles Darwin"],
      ja: ["ã‚¢ãƒ«ãƒ™ãƒ«ãƒˆãƒ»ã‚¢ã‚¤ãƒ³ã‚·ãƒ¥ã‚¿ã‚¤ãƒ³", "ãƒ“ãƒ«ãƒ»ã‚²ã‚¤ãƒ„", "ãƒãƒ£ãƒ¼ãƒ«ã‚ºãƒ»ãƒ€ãƒ¼ã‚¦ã‚£ãƒ³"]
    }
  },
  ENTJ: {
    type: "ENTJ",
    name: { ko: "ì§€íœ˜ê´€", en: "The Commander", ja: "æŒ‡æ®å®˜" },
    description: {
      ko: "íƒ€ê³ ë‚œ ë¦¬ë”ì‹­ìœ¼ë¡œ ëª©í‘œë¥¼ ë‹¬ì„±í•˜ëŠ” ì¹´ë¦¬ìŠ¤ë§ˆ ìˆëŠ” ì§€ë„ìì…ë‹ˆë‹¤.",
      en: "A charismatic leader who achieves goals with natural leadership.",
      ja: "ç”Ÿã¾ã‚ŒãªãŒã‚‰ã®ãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—ã§ç›®æ¨™ã‚’é”æˆã™ã‚‹ã‚«ãƒªã‚¹ãƒçš„æŒ‡å°è€…ã§ã™ã€‚"
    },
    traits: {
      ko: ["ë¦¬ë”ì‹­", "ê²°ë‹¨ë ¥", "ìì‹ ê°", "ì•¼ì‹¬"],
      en: ["Leadership", "Decisiveness", "Confidence", "Ambition"],
      ja: ["ãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—", "æ±ºæ–­åŠ›", "è‡ªä¿¡", "é‡å¿ƒ"]
    },
    careers: {
      ko: ["CEO", "ì •ì¹˜ê°€", "ë³€í˜¸ì‚¬", "ì‚¬ì—…ê°€"],
      en: ["CEO", "Politician", "Lawyer", "Entrepreneur"],
      ja: ["CEO", "æ”¿æ²»å®¶", "å¼è­·å£«", "èµ·æ¥­å®¶"]
    },
    famous: {
      ko: ["ìŠ¤í‹°ë¸Œ ì¡ìŠ¤", "ë‚˜í´ë ˆì˜¹", "ë§ˆê°€ë › ëŒ€ì²˜"],
      en: ["Steve Jobs", "Napoleon", "Margaret Thatcher"],
      ja: ["ã‚¹ãƒ†ã‚£ãƒ¼ãƒ–ãƒ»ã‚¸ãƒ§ãƒ–ã‚º", "ãƒŠãƒãƒ¬ã‚ªãƒ³", "ãƒãƒ¼ã‚¬ãƒ¬ãƒƒãƒˆãƒ»ã‚µãƒƒãƒãƒ£ãƒ¼"]
    }
  },
  ENTP: {
    type: "ENTP",
    name: { ko: "ë°œëª…ê°€", en: "The Innovator", ja: "ç™ºæ˜å®¶" },
    description: {
      ko: "ìƒˆë¡œìš´ ì•„ì´ë””ì–´ì™€ ê°€ëŠ¥ì„±ì„ ì¶”êµ¬í•˜ëŠ” í˜ì‹ ì ì¸ ì‚¬ê³ ì˜ ì†Œìœ ìì…ë‹ˆë‹¤.",
      en: "An owner of innovative thinking who pursues new ideas and possibilities.",
      ja: "æ–°ã—ã„ã‚¢ã‚¤ãƒ‡ã‚¢ã¨å¯èƒ½æ€§ã‚’è¿½æ±‚ã™ã‚‹é©æ–°çš„æ€è€ƒã®æŒã¡ä¸»ã§ã™ã€‚"
    },
    traits: {
      ko: ["ì°½ì˜ì ", "ì—´ì •ì ", "ë…ì°½ì ", "ìœ ì—°í•¨"],
      en: ["Creative", "Enthusiastic", "Original", "Flexible"],
      ja: ["å‰µé€ çš„", "æƒ…ç†±çš„", "ç‹¬å‰µçš„", "æŸ”è»Ÿ"]
    },
    careers: {
      ko: ["ê¸°ì—…ê°€", "ë°œëª…ê°€", "ì»¨ì„¤í„´íŠ¸", "ë§ˆì¼€í„°"],
      en: ["Entrepreneur", "Inventor", "Consultant", "Marketer"],
      ja: ["èµ·æ¥­å®¶", "ç™ºæ˜å®¶", "ã‚³ãƒ³ã‚µãƒ«ã‚¿ãƒ³ãƒˆ", "ãƒãƒ¼ã‚±ã‚¿ãƒ¼"]
    },
    famous: {
      ko: ["í† ë§ˆìŠ¤ ì—ë””ìŠ¨", "ë ˆì˜¤ë‚˜ë¥´ë„ ë‹¤ë¹ˆì¹˜", "ì›”íŠ¸ ë””ì¦ˆë‹ˆ"],
      en: ["Thomas Edison", "Leonardo da Vinci", "Walt Disney"],
      ja: ["ãƒˆãƒ¼ãƒã‚¹ãƒ»ã‚¨ã‚¸ã‚½ãƒ³", "ãƒ¬ã‚ªãƒŠãƒ«ãƒ‰ãƒ»ãƒ€ãƒ»ãƒ´ã‚£ãƒ³ãƒ", "ã‚¦ã‚©ãƒ«ãƒˆãƒ»ãƒ‡ã‚£ã‚ºãƒ‹ãƒ¼"]
    }
  },
  INFJ: {
    type: "INFJ",
    name: { ko: "ì˜¹í˜¸ì", en: "The Advocate", ja: "æå”±è€…" },
    description: {
      ko: "ê¹Šì€ í†µì°°ë ¥ê³¼ ê°•í•œ ì‹ ë…ìœ¼ë¡œ ì„¸ìƒì„ ë³€í™”ì‹œí‚¤ë ¤ëŠ” ì´ìƒì£¼ì˜ìì…ë‹ˆë‹¤.",
      en: "An idealist who seeks to change the world with deep insight and strong convictions.",
      ja: "æ·±ã„æ´å¯ŸåŠ›ã¨å¼·ã„ä¿¡å¿µã§ä¸–ç•Œã‚’å¤‰ãˆã‚ˆã†ã¨ã™ã‚‹ç†æƒ³ä¸»ç¾©è€…ã§ã™ã€‚"
    },
    traits: {
      ko: ["ì´ìƒì£¼ì˜", "ì°½ì˜ì ", "ê²°ë‹¨ë ¥", "ì›ì¹™ì£¼ì˜"],
      en: ["Idealistic", "Creative", "Decisive", "Principled"],
      ja: ["ç†æƒ³ä¸»ç¾©", "å‰µé€ çš„", "æ±ºæ–­åŠ›", "åŸå‰‡ä¸»ç¾©"]
    },
    careers: {
      ko: ["ìƒë‹´ì‚¬", "ì‘ê°€", "êµì‚¬", "ì‚¬íšŒë³µì§€ì‚¬"],
      en: ["Counselor", "Writer", "Teacher", "Social Worker"],
      ja: ["ã‚«ã‚¦ãƒ³ã‚»ãƒ©ãƒ¼", "ä½œå®¶", "æ•™å¸«", "ç¤¾ä¼šç¦ç¥‰å£«"]
    },
    famous: {
      ko: ["ë§ˆí‹´ ë£¨í„° í‚¹", "ë§ˆë” í…Œë ˆì‚¬", "ë„¬ìŠ¨ ë§Œë¸ë¼"],
      en: ["Martin Luther King Jr.", "Mother Teresa", "Nelson Mandela"],
      ja: ["ãƒãƒ¼ãƒ†ã‚£ãƒ³ãƒ»ãƒ«ãƒ¼ã‚µãƒ¼ãƒ»ã‚­ãƒ³ã‚°", "ãƒã‚¶ãƒ¼ãƒ»ãƒ†ãƒ¬ã‚µ", "ãƒãƒ«ã‚½ãƒ³ãƒ»ãƒãƒ³ãƒ‡ãƒ©"]
    }
  },
  INFP: {
    type: "INFP",
    name: { ko: "ì¤‘ì¬ì", en: "The Mediator", ja: "ä»²è£è€…" },
    description: {
      ko: "ê¹Šì€ ê°€ì¹˜ê´€ê³¼ ì´ìƒì„ ë°”íƒ•ìœ¼ë¡œ ì§„ì •ì„± ìˆëŠ” ì‚¶ì„ ì¶”êµ¬í•˜ëŠ” ì‚¬ëŒì…ë‹ˆë‹¤.",
      en: "A person who pursues an authentic life based on deep values and ideals.",
      ja: "æ·±ã„ä¾¡å€¤è¦³ã¨ç†æƒ³ã«åŸºã¥ã„ã¦çœŸæ­£æ€§ã®ã‚ã‚‹äººç”Ÿã‚’è¿½æ±‚ã™ã‚‹äººã§ã™ã€‚"
    },
    traits: {
      ko: ["ì´ìƒì£¼ì˜", "ì¶©ì‹¤í•¨", "ê°œë°©ì ", "ì°½ì˜ì "],
      en: ["Idealistic", "Loyal", "Open-minded", "Creative"],
      ja: ["ç†æƒ³ä¸»ç¾©", "å¿ å®Ÿ", "é–‹æ”¾çš„", "å‰µé€ çš„"]
    },
    careers: {
      ko: ["ì‘ê°€", "ì˜ˆìˆ ê°€", "ì‹¬ë¦¬í•™ì", "ì‚¬íšŒë³µì§€ì‚¬"],
      en: ["Writer", "Artist", "Psychologist", "Social Worker"],
      ja: ["ä½œå®¶", "èŠ¸è¡“å®¶", "å¿ƒç†å­¦è€…", "ç¤¾ä¼šç¦ç¥‰å£«"]
    },
    famous: {
      ko: ["ìœŒë¦¬ì—„ ì…°ìµìŠ¤í”¼ì–´", "ì¡°ë‹ˆ ë", "í”„ë¦°ì„¸ìŠ¤ ë‹¤ì´ì• ë‚˜"],
      en: ["William Shakespeare", "Johnny Depp", "Princess Diana"],
      ja: ["ã‚¦ã‚£ãƒªã‚¢ãƒ ãƒ»ã‚·ã‚§ã‚¤ã‚¯ã‚¹ãƒ”ã‚¢", "ã‚¸ãƒ§ãƒ‹ãƒ¼ãƒ»ãƒ‡ãƒƒãƒ—", "ãƒ—ãƒªãƒ³ã‚»ã‚¹ãƒ»ãƒ€ã‚¤ã‚¢ãƒŠ"]
    }
  },
  ENFJ: {
    type: "ENFJ",
    name: { ko: "ì„ ë„ì", en: "The Protagonist", ja: "ä¸»äººå…¬" },
    description: {
      ko: "íƒ€ì¸ì„ ì´í•´í•˜ê³  ë„ìš°ë©° ê¸ì •ì ì¸ ë³€í™”ë¥¼ ì´ë„ëŠ” ì¹´ë¦¬ìŠ¤ë§ˆ ìˆëŠ” ë¦¬ë”ì…ë‹ˆë‹¤.",
      en: "A charismatic leader who understands and helps others while leading positive change.",
      ja: "ä»–äººã‚’ç†è§£ã—åŠ©ã‘ãªãŒã‚‰è‚¯å®šçš„å¤‰åŒ–ã‚’å°ãã‚«ãƒªã‚¹ãƒçš„ãƒªãƒ¼ãƒ€ãƒ¼ã§ã™ã€‚"
    },
    traits: {
      ko: ["ì¹´ë¦¬ìŠ¤ë§ˆ", "ì´íƒ€ì ", "ì‹ ë¢°ì„±", "ê´€ìš©"],
      en: ["Charismatic", "Altruistic", "Reliable", "Tolerant"],
      ja: ["ã‚«ãƒªã‚¹ãƒ", "åˆ©ä»–çš„", "ä¿¡é ¼æ€§", "å¯›å®¹"]
    },
    careers: {
      ko: ["êµì‚¬", "ì½”ì¹˜", "ì •ì¹˜ê°€", "ìƒë‹´ì‚¬"],
      en: ["Teacher", "Coach", "Politician", "Counselor"],
      ja: ["æ•™å¸«", "ã‚³ãƒ¼ãƒ", "æ”¿æ²»å®¶", "ã‚«ã‚¦ãƒ³ã‚»ãƒ©ãƒ¼"]
    },
    famous: {
      ko: ["ì˜¤í”„ë¼ ìœˆí”„ë¦¬", "ë²„ë½ ì˜¤ë°”ë§ˆ", "ë§ˆì•¼ ì•ˆì ¤ë£¨"],
      en: ["Oprah Winfrey", "Barack Obama", "Maya Angelou"],
      ja: ["ã‚ªãƒ—ãƒ©ãƒ»ã‚¦ã‚£ãƒ³ãƒ•ãƒªãƒ¼", "ãƒãƒ©ã‚¯ãƒ»ã‚ªãƒãƒ", "ãƒãƒ¤ãƒ»ã‚¢ãƒ³ã‚¸ã‚§ãƒ­ã‚¦"]
    }
  },
  ENFP: {
    type: "ENFP",
    name: { ko: "í™œë™ê°€", en: "The Campaigner", ja: "æ´»å‹•å®¶" },
    description: {
      ko: "ì—´ì •ì ì´ê³  ì°½ì˜ì ì¸ ì—ë„ˆì§€ë¡œ ìƒˆë¡œìš´ ê°€ëŠ¥ì„±ì„ íƒêµ¬í•˜ëŠ” ììœ ë¡œìš´ ì˜í˜¼ì…ë‹ˆë‹¤.",
      en: "A free spirit who explores new possibilities with passionate and creative energy.",
      ja: "æƒ…ç†±çš„ã§å‰µé€ çš„ãªã‚¨ãƒãƒ«ã‚®ãƒ¼ã§æ–°ã—ã„å¯èƒ½æ€§ã‚’æ¢æ±‚ã™ã‚‹è‡ªç”±ãªé­‚ã§ã™ã€‚"
    },
    traits: {
      ko: ["ì—´ì •ì ", "ì°½ì˜ì ", "ì‚¬êµì ", "ë…ë¦½ì "],
      en: ["Enthusiastic", "Creative", "Sociable", "Independent"],
      ja: ["æƒ…ç†±çš„", "å‰µé€ çš„", "ç¤¾äº¤çš„", "ç‹¬ç«‹çš„"]
    },
    careers: {
      ko: ["ê¸°ì", "ìƒë‹´ì‚¬", "ë°°ìš°", "ê¸°ì—…ê°€"],
      en: ["Journalist", "Counselor", "Actor", "Entrepreneur"],
      ja: ["è¨˜è€…", "ã‚«ã‚¦ãƒ³ã‚»ãƒ©ãƒ¼", "ä¿³å„ª", "èµ·æ¥­å®¶"]
    },
    famous: {
      ko: ["ë¡œë¹ˆ ìœŒë¦¬ì—„ìŠ¤", "ì—˜ëŸ° ë“œì œë„ˆëŸ¬ìŠ¤", "ìœŒ ìŠ¤ë¯¸ìŠ¤"],
      en: ["Robin Williams", "Ellen DeGeneres", "Will Smith"],
      ja: ["ãƒ­ãƒ“ãƒ³ãƒ»ã‚¦ã‚£ãƒªã‚¢ãƒ ã‚º", "ã‚¨ãƒ¬ãƒ³ãƒ»ãƒ‡ã‚¸ã‚§ãƒãƒ¬ã‚¹", "ã‚¦ã‚£ãƒ«ãƒ»ã‚¹ãƒŸã‚¹"]
    }
  },
  ISTJ: {
    type: "ISTJ",
    name: { ko: "ë¬¼ë¥˜ê´€ë¦¬ì", en: "The Logistician", ja: "ç®¡ç†è€…" },
    description: {
      ko: "ì±…ì„ê° ìˆê³  ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ì„±ê²©ìœ¼ë¡œ ì•ˆì •ì ì¸ ì§ˆì„œë¥¼ ì¶”êµ¬í•©ë‹ˆë‹¤.",
      en: "Pursues stable order with a responsible and reliable personality.",
      ja: "è²¬ä»»æ„ŸãŒã‚ã‚Šä¿¡é ¼ã§ãã‚‹æ€§æ ¼ã§å®‰å®šã—ãŸç§©åºã‚’è¿½æ±‚ã—ã¾ã™ã€‚"
    },
    traits: {
      ko: ["ì±…ì„ê°", "ì‹ ë¢°ì„±", "ì‹¤ìš©ì ", "ì²´ê³„ì "],
      en: ["Responsible", "Reliable", "Practical", "Systematic"],
      ja: ["è²¬ä»»æ„Ÿ", "ä¿¡é ¼æ€§", "å®Ÿç”¨çš„", "ä½“ç³»çš„"]
    },
    careers: {
      ko: ["íšŒê³„ì‚¬", "ì˜ì‚¬", "ë³€í˜¸ì‚¬", "ê´€ë¦¬ì"],
      en: ["Accountant", "Doctor", "Lawyer", "Manager"],
      ja: ["ä¼šè¨ˆå£«", "åŒ»å¸«", "å¼è­·å£«", "ç®¡ç†è€…"]
    },
    famous: {
      ko: ["ì¡°ì§€ ì›Œì‹±í„´", "ì›Œë Œ ë²„í•", "ì•ˆì ¤ë¼ ë©”ë¥´ì¼ˆ"],
      en: ["George Washington", "Warren Buffett", "Angela Merkel"],
      ja: ["ã‚¸ãƒ§ãƒ¼ã‚¸ãƒ»ãƒ¯ã‚·ãƒ³ãƒˆãƒ³", "ã‚¦ã‚©ãƒ¼ãƒ¬ãƒ³ãƒ»ãƒãƒ•ã‚§ãƒƒãƒˆ", "ã‚¢ãƒ³ã‚²ãƒ©ãƒ»ãƒ¡ãƒ«ã‚±ãƒ«"]
    }
  },
  ISFJ: {
    type: "ISFJ",
    name: { ko: "ìˆ˜í˜¸ì", en: "The Protector", ja: "æ“è­·è€…" },
    description: {
      ko: "ë”°ëœ»í•œ ë§ˆìŒê³¼ ê°•í•œ ì±…ì„ê°ìœ¼ë¡œ ë‹¤ë¥¸ ì‚¬ëŒì„ ë³´í˜¸í•˜ê³  ë„ìš°ë ¤ëŠ” ì„±í–¥ì…ë‹ˆë‹¤.",
      en: "A tendency to protect and help others with a warm heart and strong sense of responsibility.",
      ja: "æ¸©ã‹ã„å¿ƒã¨å¼·ã„è²¬ä»»æ„Ÿã§ä»–äººã‚’å®ˆã‚ŠåŠ©ã‘ã‚ˆã†ã¨ã™ã‚‹æ€§å‘ã§ã™ã€‚"
    },
    traits: {
      ko: ["ë”°ëœ»í•¨", "ë°°ë ¤ì‹¬", "ì¶©ì„±ì‹¬", "ê²¸ì†í•¨"],
      en: ["Warm", "Considerate", "Loyal", "Humble"],
      ja: ["æ¸©ã‹ã•", "æ€ã„ã‚„ã‚Š", "å¿ èª å¿ƒ", "è¬™è™š"]
    },
    careers: {
      ko: ["ê°„í˜¸ì‚¬", "êµì‚¬", "ìƒë‹´ì‚¬", "ì‚¬íšŒë³µì§€ì‚¬"],
      en: ["Nurse", "Teacher", "Counselor", "Social Worker"],
      ja: ["çœ‹è­·å¸«", "æ•™å¸«", "ã‚«ã‚¦ãƒ³ã‚»ãƒ©ãƒ¼", "ç¤¾ä¼šç¦ç¥‰å£«"]
    },
    famous: {
      ko: ["ë§ˆë” í…Œë ˆì‚¬", "ì¼€ì´íŠ¸ ë¯¸ë“¤í„´", "ë¡œì‚¬ íŒŒí¬ìŠ¤"],
      en: ["Mother Teresa", "Kate Middleton", "Rosa Parks"],
      ja: ["ãƒã‚¶ãƒ¼ãƒ»ãƒ†ãƒ¬ã‚µ", "ã‚±ã‚¤ãƒˆãƒ»ãƒŸãƒ‰ãƒ«ãƒˆãƒ³", "ãƒ­ãƒ¼ã‚¶ãƒ»ãƒ‘ãƒ¼ã‚¯ã‚¹"]
    }
  },
  ESTJ: {
    type: "ESTJ",
    name: { ko: "ê²½ì˜ì", en: "The Executive", ja: "å¹¹éƒ¨" },
    description: {
      ko: "ë›°ì–´ë‚œ ê´€ë¦¬ ëŠ¥ë ¥ê³¼ ë¦¬ë”ì‹­ìœ¼ë¡œ ì¡°ì§ì„ ì´ëŒì–´ê°€ëŠ” íƒ€ê³ ë‚œ ê²½ì˜ìì…ë‹ˆë‹¤.",
      en: "A natural manager who leads organizations with excellent management skills and leadership.",
      ja: "å„ªã‚ŒãŸç®¡ç†èƒ½åŠ›ã¨ãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—ã§çµ„ç¹”ã‚’å°ãç”Ÿã¾ã‚ŒãªãŒã‚‰ã®çµŒå–¶è€…ã§ã™ã€‚"
    },
    traits: {
      ko: ["ê´€ë¦¬ëŠ¥ë ¥", "ë¦¬ë”ì‹­", "ì¡°ì§ë ¥", "í˜„ì‹¤ì "],
      en: ["Management", "Leadership", "Organization", "Realistic"],
      ja: ["ç®¡ç†èƒ½åŠ›", "ãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—", "çµ„ç¹”åŠ›", "ç¾å®Ÿçš„"]
    },
    careers: {
      ko: ["CEO", "ê´€ë¦¬ì", "íŒì‚¬", "êµ°ì¸"],
      en: ["CEO", "Manager", "Judge", "Military Officer"],
      ja: ["CEO", "ç®¡ç†è€…", "è£åˆ¤å®˜", "è»äºº"]
    },
    famous: {
      ko: ["ìœˆìŠ¤í„´ ì²˜ì¹ ", "í”„ë­í´ë¦° ë£¨ì¦ˆë²¨íŠ¸", "ì¡´ ë¡í ëŸ¬"],
      en: ["Winston Churchill", "Franklin D. Roosevelt", "John D. Rockefeller"],
      ja: ["ã‚¦ã‚£ãƒ³ã‚¹ãƒˆãƒ³ãƒ»ãƒãƒ£ãƒ¼ãƒãƒ«", "ãƒ•ãƒ©ãƒ³ã‚¯ãƒªãƒ³ãƒ»ãƒ«ãƒ¼ã‚ºãƒ™ãƒ«ãƒˆ", "ã‚¸ãƒ§ãƒ³ãƒ»ãƒ­ãƒƒã‚¯ãƒ•ã‚§ãƒ©ãƒ¼"]
    }
  },
  ESFJ: {
    type: "ESFJ",
    name: { ko: "ì§‘ì •ê´€", en: "The Consul", ja: "é ˜äº‹" },
    description: {
      ko: "ë”°ëœ»í•œ ë§ˆìŒìœ¼ë¡œ ì‚¬ëŒë“¤ì„ ë„ìš°ë©° ì¡°í™”ë¡œìš´ í™˜ê²½ì„ ë§Œë“œëŠ” ì‚¬êµì ì¸ ì„±ê²©ì…ë‹ˆë‹¤.",
      en: "A sociable personality that helps people with a warm heart and creates a harmonious environment.",
      ja: "æ¸©ã‹ã„å¿ƒã§äººã€…ã‚’åŠ©ã‘èª¿å’Œã®ã¨ã‚ŒãŸç’°å¢ƒã‚’ä½œã‚‹ç¤¾äº¤çš„ãªæ€§æ ¼ã§ã™ã€‚"
    },
    traits: {
      ko: ["ì¹œê·¼í•¨", "í˜‘ë ¥ì ", "ë°°ë ¤ì‹¬", "ì±…ì„ê°"],
      en: ["Friendly", "Cooperative", "Caring", "Responsible"],
      ja: ["è¦ªã—ã¿ã‚„ã™ã•", "å”åŠ›çš„", "æ€ã„ã‚„ã‚Š", "è²¬ä»»æ„Ÿ"]
    },
    careers: {
      ko: ["ê°„í˜¸ì‚¬", "êµì‚¬", "ìƒë‹´ì‚¬", "ì ‘ê°ì—…"],
      en: ["Nurse", "Teacher", "Counselor", "Hospitality"],
      ja: ["çœ‹è­·å¸«", "æ•™å¸«", "ã‚«ã‚¦ãƒ³ã‚»ãƒ©ãƒ¼", "æ¥å®¢æ¥­"]
    },
    famous: {
      ko: ["í…Œì¼ëŸ¬ ìŠ¤ìœ„í”„íŠ¸", "íœ´ ì­ë§¨", "ì—˜íŠ¼ ì¡´"],
      en: ["Taylor Swift", "Hugh Jackman", "Elton John"],
      ja: ["ãƒ†ã‚¤ãƒ©ãƒ¼ãƒ»ã‚¹ã‚¦ã‚£ãƒ•ãƒˆ", "ãƒ’ãƒ¥ãƒ¼ãƒ»ã‚¸ãƒ£ãƒƒã‚¯ãƒãƒ³", "ã‚¨ãƒ«ãƒˆãƒ³ãƒ»ã‚¸ãƒ§ãƒ³"]
    }
  },
  ISTP: {
    type: "ISTP",
    name: { ko: "ë§ŒëŠ¥ì¬ì£¼ê¾¼", en: "The Virtuoso", ja: "å·¨åŒ " },
    description: {
      ko: "ì‹¤ìš©ì ì´ê³  í˜„ì‹¤ì ì¸ ì ‘ê·¼ìœ¼ë¡œ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ìœ ì—°í•˜ê³  ê´€ìš©ì ì¸ ì„±ê²©ì…ë‹ˆë‹¤.",
      en: "A flexible and tolerant personality that solves problems with practical and realistic approaches.",
      ja: "å®Ÿç”¨çš„ã§ç¾å®Ÿçš„ãªã‚¢ãƒ—ãƒ­ãƒ¼ãƒã§å•é¡Œã‚’è§£æ±ºã™ã‚‹æŸ”è»Ÿã§å¯›å®¹ãªæ€§æ ¼ã§ã™ã€‚"
    },
    traits: {
      ko: ["ì‹¤ìš©ì ", "ìœ ì—°í•¨", "ê´€ìš©ì ", "í˜„ì‹¤ì "],
      en: ["Practical", "Flexible", "Tolerant", "Realistic"],
      ja: ["å®Ÿç”¨çš„", "æŸ”è»Ÿ", "å¯›å®¹", "ç¾å®Ÿçš„"]
    },
    careers: {
      ko: ["ì—”ì§€ë‹ˆì–´", "ê¸°ê³„ê¸°ìˆ ì", "íŒŒì¼ëŸ¿", "ìš´ë™ì„ ìˆ˜"],
      en: ["Engineer", "Mechanic", "Pilot", "Athlete"],
      ja: ["ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢", "æ©Ÿæ¢°æŠ€è¡“è€…", "ãƒ‘ã‚¤ãƒ­ãƒƒãƒˆ", "ã‚¢ã‚¹ãƒªãƒ¼ãƒˆ"]
    },
    famous: {
      ko: ["ë¸Œë£¨ìŠ¤ ë¦¬", "í´ë¦°íŠ¸ ì´ìŠ¤íŠ¸ìš°ë“œ", "ë§ˆì´í´ ì¡°ë˜"],
      en: ["Bruce Lee", "Clint Eastwood", "Michael Jordan"],
      ja: ["ãƒ–ãƒ«ãƒ¼ã‚¹ãƒ»ãƒªãƒ¼", "ã‚¯ãƒªãƒ³ãƒˆãƒ»ã‚¤ãƒ¼ã‚¹ãƒˆã‚¦ãƒƒãƒ‰", "ãƒã‚¤ã‚±ãƒ«ãƒ»ã‚¸ãƒ§ãƒ¼ãƒ€ãƒ³"]
    }
  },
  ISFP: {
    type: "ISFP",
    name: { ko: "ëª¨í—˜ê°€", en: "The Adventurer", ja: "å†’é™ºå®¶" },
    description: {
      ko: "ê°œë°©ì ì´ê³  ìœ ì—°í•œ ì‚¬ê³ ë¡œ ìƒˆë¡œìš´ ê°€ëŠ¥ì„±ì„ íƒêµ¬í•˜ëŠ” ì˜ˆìˆ ì  ê°ì„±ì˜ ì†Œìœ ìì…ë‹ˆë‹¤.",
      en: "An owner of artistic sensibility who explores new possibilities with open and flexible thinking.",
      ja: "é–‹æ”¾çš„ã§æŸ”è»Ÿãªæ€è€ƒã§æ–°ã—ã„å¯èƒ½æ€§ã‚’æ¢æ±‚ã™ã‚‹èŠ¸è¡“çš„æ„Ÿæ€§ã®æŒã¡ä¸»ã§ã™ã€‚"
    },
    traits: {
      ko: ["ì˜ˆìˆ ì ", "ìœ ì—°í•¨", "ê°œë°©ì ", "ë¯¼ê°í•¨"],
      en: ["Artistic", "Flexible", "Open-minded", "Sensitive"],
      ja: ["èŠ¸è¡“çš„", "æŸ”è»Ÿ", "é–‹æ”¾çš„", "æ•æ„Ÿ"]
    },
    careers: {
      ko: ["ì˜ˆìˆ ê°€", "ìŒì•…ê°€", "ë””ìì´ë„ˆ", "ì‚¬ì§„ì‘ê°€"],
      en: ["Artist", "Musician", "Designer", "Photographer"],
      ja: ["èŠ¸è¡“å®¶", "éŸ³æ¥½å®¶", "ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼", "å†™çœŸå®¶"]
    },
    famous: {
      ko: ["ë°¥ ë”œëŸ°", "ë§ˆì´í´ ì­ìŠ¨", "í”„ë¦¬ë‹¤ ì¹¼ë¡œ"],
      en: ["Bob Dylan", "Michael Jackson", "Frida Kahlo"],
      ja: ["ãƒœãƒ–ãƒ»ãƒ‡ã‚£ãƒ©ãƒ³", "ãƒã‚¤ã‚±ãƒ«ãƒ»ã‚¸ãƒ£ã‚¯ã‚½ãƒ³", "ãƒ•ãƒªãƒ¼ãƒ€ãƒ»ã‚«ãƒ¼ãƒ­"]
    }
  },
  ESTP: {
    type: "ESTP",
    name: { ko: "ì‚¬ì—…ê°€", en: "The Entrepreneur", ja: "èµ·æ¥­å®¶" },
    description: {
      ko: "ì—ë„ˆì§€ ë„˜ì¹˜ê³  í™œë™ì ì¸ ì„±ê²©ìœ¼ë¡œ í˜„ì¬ ìˆœê°„ì„ ì¦ê¸°ë©° ì‚´ì•„ê°€ëŠ” ì‚¬ëŒì…ë‹ˆë‹¤.",
      en: "A person who lives enjoying the present moment with an energetic and active personality.",
      ja: "ã‚¨ãƒãƒ«ã‚®ãƒƒã‚·ãƒ¥ã§æ´»å‹•çš„ãªæ€§æ ¼ã§ç¾åœ¨ã®ç¬é–“ã‚’æ¥½ã—ã¿ãªãŒã‚‰ç”Ÿãã‚‹äººã§ã™ã€‚"
    },
    traits: {
      ko: ["í™œë™ì ", "ì‹¤ìš©ì ", "ê´€ì°°ë ¥", "ì—ë„ˆì§€"],
      en: ["Active", "Practical", "Observant", "Energetic"],
      ja: ["æ´»å‹•çš„", "å®Ÿç”¨çš„", "è¦³å¯ŸåŠ›", "ã‚¨ãƒãƒ«ã‚®ãƒƒã‚·ãƒ¥"]
    },
    careers: {
      ko: ["ì˜ì—…ì‚¬ì›", "ì—°ì˜ˆì¸", "ê¸°ì—…ê°€", "ìŠ¤í¬ì¸ ì„ ìˆ˜"],
      en: ["Salesperson", "Entertainer", "Entrepreneur", "Athlete"],
      ja: ["å–¶æ¥­å“¡", "èŠ¸èƒ½äºº", "èµ·æ¥­å®¶", "ã‚¹ãƒãƒ¼ãƒ„é¸æ‰‹"]
    },
    famous: {
      ko: ["ë„ë„ë“œ íŠ¸ëŸ¼í”„", "ë§ˆëˆë‚˜", "ì–´ë‹ˆìŠ¤íŠ¸ í—¤ë°ì›¨ì´"],
      en: ["Donald Trump", "Madonna", "Ernest Hemingway"],
      ja: ["ãƒ‰ãƒŠãƒ«ãƒ‰ãƒ»ãƒˆãƒ©ãƒ³ãƒ—", "ãƒãƒ‰ãƒ³ãƒŠ", "ã‚¢ãƒ¼ãƒã‚¹ãƒˆãƒ»ãƒ˜ãƒŸãƒ³ã‚°ã‚¦ã‚§ã‚¤"]
    }
  },
  ESFP: {
    type: "ESFP",
    name: { ko: "ì—°ì˜ˆì¸", en: "The Entertainer", ja: "ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ†ã‚¤ãƒŠãƒ¼" },
    description: {
      ko: "ììœ ë¡œìš´ ì˜í˜¼ìœ¼ë¡œ ì‚¶ì„ ì¦ê¸°ë©° ë‹¤ë¥¸ ì‚¬ëŒë“¤ì—ê²Œ ì¦ê±°ì›€ì„ ì£¼ëŠ” ì„±ê²©ì…ë‹ˆë‹¤.",
      en: "A free spirit who enjoys life and brings joy to others.",
      ja: "è‡ªç”±ãªé­‚ã§äººç”Ÿã‚’æ¥½ã—ã¿ä»–ã®äººã«æ¥½ã—ã•ã‚’ä¸ãˆã‚‹æ€§æ ¼ã§ã™ã€‚"
    },
    traits: {
      ko: ["ììœ ë¡œì›€", "ì¹œê·¼í•¨", "ì‹¤ìš©ì ", "ìˆ˜ìš©ì "],
      en: ["Free-spirited", "Friendly", "Practical", "Accepting"],
      ja: ["è‡ªç”±", "è¦ªã—ã¿ã‚„ã™ã•", "å®Ÿç”¨çš„", "å—å®¹çš„"]
    },
    careers: {
      ko: ["ë°°ìš°", "ìŒì•…ê°€", "ìƒë‹´ì‚¬", "êµì‚¬"],
      en: ["Actor", "Musician", "Counselor", "Teacher"],
      ja: ["ä¿³å„ª", "éŸ³æ¥½å®¶", "ã‚«ã‚¦ãƒ³ã‚»ãƒ©ãƒ¼", "æ•™å¸«"]
    },
    famous: {
      ko: ["ë§ˆë¦´ë¦° ë¨¼ë¡œ", "ì—˜ë¹„ìŠ¤ í”„ë ˆìŠ¬ë¦¬", "ë¡œë‚ ë“œ ë ˆì´ê±´"],
      en: ["Marilyn Monroe", "Elvis Presley", "Ronald Reagan"],
      ja: ["ãƒãƒªãƒªãƒ³ãƒ»ãƒ¢ãƒ³ãƒ­ãƒ¼", "ã‚¨ãƒ«ãƒ“ã‚¹ãƒ»ãƒ—ãƒ¬ã‚¹ãƒªãƒ¼", "ãƒ­ãƒŠãƒ«ãƒ‰ãƒ»ãƒ¬ãƒ¼ã‚¬ãƒ³"]
    }
  }
};

export default function MBTITest() {
  const [, setLocation] = useLocation();
  const { i18n } = useTranslation();
  const currentLang = i18n.language as 'ko' | 'en' | 'ja';
  
  const [selectedStyle, setSelectedStyle] = useState<string>('');
  const [currentQuestion, setCurrentQuestion] = useState(0);
  const [answers, setAnswers] = useState<Record<number, number>>({});
  const [showResult, setShowResult] = useState(false);
  const [scores, setScores] = useState({ E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 });

  const questions = questionSets[selectedStyle] || [];

  const calculateResult = () => {
    const newScores = { E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 };
    
    questions.forEach(question => {
      const answer = answers[question.id];
      if (answer !== undefined) {
        // For A/B choice styles: 1 = Choice A (question weight), 2 = Choice B (opposite weight)
        if (['balance', 'workplace', 'routine', 'lifestyle', 'romance', 'professional', 'social', 'travel', 'study', 'crisis'].includes(selectedStyle)) {
          if (answer === 1) {
            newScores[question.weight]++;
          } else if (answer === 2) {
            const opposite = question.weight === 'E' ? 'I' : 
                            question.weight === 'I' ? 'E' :
                            question.weight === 'S' ? 'N' :
                            question.weight === 'N' ? 'S' :
                            question.weight === 'T' ? 'F' :
                            question.weight === 'F' ? 'T' :
                            question.weight === 'J' ? 'P' : 'J';
            newScores[opposite]++;
          }
        } else {
          // For other A/B choice styles (workplace, routine, etc.)
          if (answer === 1) {
            newScores[question.weight]++;
          } else if (answer === 2) {
            const opposite = question.weight === 'E' ? 'I' : 
                            question.weight === 'I' ? 'E' :
                            question.weight === 'S' ? 'N' :
                            question.weight === 'N' ? 'S' :
                            question.weight === 'T' ? 'F' :
                            question.weight === 'F' ? 'T' :
                            question.weight === 'J' ? 'P' : 'J';
            newScores[opposite]++;
          }
        }
      }
    });
    
    setScores(newScores);
    setShowResult(true);
  };

  const handleAnswer = (questionId: number, value: number) => {
    setAnswers({ ...answers, [questionId]: value });
  };

  const nextQuestion = () => {
    if (currentQuestion < questions.length - 1) {
      setCurrentQuestion(currentQuestion + 1);
    } else {
      calculateResult();
    }
  };

  const prevQuestion = () => {
    if (currentQuestion > 0) {
      setCurrentQuestion(currentQuestion - 1);
    }
  };

  const resetTest = () => {
    setSelectedStyle('');
    setCurrentQuestion(0);
    setAnswers({});
    setShowResult(false);
    setScores({ E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 });
  };

  if (!selectedStyle) {
    return (
      <div className="min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 py-8 px-4">
        <div className="max-w-6xl mx-auto">
          <div className="text-center mb-12">
            <h1 className="text-4xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent mb-4">
              {currentLang === 'ko' ? 'MBTI ì„±ê²©ìœ í˜• í…ŒìŠ¤íŠ¸' : 
               currentLang === 'ja' ? 'MBTIæ€§æ ¼ã‚¿ã‚¤ãƒ—ãƒ†ã‚¹ãƒˆ' : 
               'MBTI Personality Test'}
            </h1>
            <p className="text-lg text-gray-600 dark:text-gray-300">
              {currentLang === 'ko' ? '10ê°€ì§€ ìŠ¤íƒ€ì¼ë¡œ ë‚˜ë§Œì˜ ì„±ê²©ì„ ì•Œì•„ë³´ì„¸ìš”!' :
               currentLang === 'ja' ? '10ç¨®é¡ã®ã‚¹ã‚¿ã‚¤ãƒ«ã§è‡ªåˆ†ã ã‘ã®æ€§æ ¼ã‚’çŸ¥ã‚ã†ï¼' :
               'Discover your unique personality with 10 different styles!'}
            </p>
          </div>

          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
            {testStyles.map((style) => (
              <Card
                key={style.id}
                className="cursor-pointer hover:shadow-lg transition-all duration-300 hover:scale-105 border-2 hover:border-purple-300"
                onClick={() => setSelectedStyle(style.id)}
              >
                <CardContent className="p-6 text-center">
                  <div className="text-4xl mb-4">{style.emoji}</div>
                  <h3 className="text-xl font-semibold mb-2 text-gray-800 dark:text-gray-200">
                    {style.name[currentLang]}
                  </h3>
                  <p className="text-gray-600 dark:text-gray-400">
                    {style.description[currentLang]}
                  </p>
                </CardContent>
              </Card>
            ))}
          </div>

          <div className="flex justify-center">
            <AdSense adSlot="1234567894" className="w-full max-w-2xl" />
          </div>
        </div>
      </div>
    );
  }

  if (showResult) {
    const mbtiType = 
      (scores.E > scores.I ? 'E' : 'I') +
      (scores.S > scores.N ? 'S' : 'N') +
      (scores.T > scores.F ? 'T' : 'F') +
      (scores.J > scores.P ? 'J' : 'P');

    const result = mbtiResults[mbtiType];

    return (
      <div className="min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 py-8 px-4">
        <div className="max-w-4xl mx-auto">
          <Card className="mb-8">
            <CardHeader className="text-center">
              <CardTitle className="text-3xl text-purple-600 dark:text-purple-400">
                {currentLang === 'ko' ? 'í…ŒìŠ¤íŠ¸ ê²°ê³¼' : 
                 currentLang === 'ja' ? 'ãƒ†ã‚¹ãƒˆçµæœ' : 
                 'Test Result'}
              </CardTitle>
            </CardHeader>
            <CardContent className="text-center">
              <div className="text-6xl font-bold text-gray-800 dark:text-gray-200 mb-4">
                {mbtiType}
              </div>
              {result && (
                <>
                  <h2 className="text-2xl font-semibold mb-4 text-gray-700 dark:text-gray-300">
                    {result.name[currentLang]}
                  </h2>
                  <p className="text-lg text-gray-600 dark:text-gray-400 mb-8">
                    {result.description[currentLang]}
                  </p>
                </>
              )}
              
              <div className="flex justify-center gap-4 mb-8">
                <Button
                  onClick={resetTest}
                  variant="outline"
                  className="flex items-center gap-2"
                >
                  <RotateCcw className="h-4 w-4" />
                  {currentLang === 'ko' ? 'ë‹¤ì‹œ í…ŒìŠ¤íŠ¸' : 
                   currentLang === 'ja' ? 'å†ãƒ†ã‚¹ãƒˆ' : 
                   'Test Again'}
                </Button>
                <Button
                  onClick={() => setLocation('/')}
                  className="bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700"
                >
                  {currentLang === 'ko' ? 'í™ˆìœ¼ë¡œ' : 
                   currentLang === 'ja' ? 'ãƒ›ãƒ¼ãƒ ã¸' : 
                   'Go Home'}
                </Button>
              </div>
            </CardContent>
          </Card>

          <div className="flex justify-center">
            <AdSense adSlot="1234567894" className="w-full max-w-2xl" />
          </div>
        </div>
      </div>
    );
  }

  if (questions.length === 0) {
    return (
      <div className="min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 py-8 px-4">
        <div className="max-w-4xl mx-auto text-center">
          <Card>
            <CardContent className="p-8">
              <h2 className="text-2xl font-semibold mb-4">
                {currentLang === 'ko' ? 'ì§ˆë¬¸ì„ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤...' :
                 currentLang === 'ja' ? 'è³ªå•ã‚’æº–å‚™ä¸­ã§ã™...' :
                 'Preparing questions...'}
              </h2>
              <Button onClick={resetTest}>
                {currentLang === 'ko' ? 'ëŒì•„ê°€ê¸°' :
                 currentLang === 'ja' ? 'æˆ»ã‚‹' :
                 'Go Back'}
              </Button>
            </CardContent>
          </Card>
        </div>
      </div>
    );
  }

  const progress = ((currentQuestion + 1) / questions.length) * 100;

  return (
    <div className="min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 py-8 px-4">
      <div className="max-w-4xl mx-auto">
        <div className="mb-8">
          <div className="flex justify-between items-center mb-4">
            <Button
              variant="ghost"
              onClick={resetTest}
              className="text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200"
            >
              â† {currentLang === 'ko' ? 'ìŠ¤íƒ€ì¼ ì„ íƒìœ¼ë¡œ' : 
                  currentLang === 'ja' ? 'ã‚¹ã‚¿ã‚¤ãƒ«é¸æŠã¸' : 
                  'Back to Style Selection'}
            </Button>
            <span className="text-sm text-gray-500 dark:text-gray-400">
              {currentQuestion + 1} / {questions.length}
            </span>
          </div>
          <Progress value={progress} className="h-2" />
        </div>

        <Card className="mb-8">
          <CardHeader>
            <CardTitle className="text-center text-2xl text-gray-800 dark:text-gray-200">
              {currentLang === 'ko' ? `ì§ˆë¬¸ ${currentQuestion + 1}` : 
               currentLang === 'ja' ? `è³ªå• ${currentQuestion + 1}` : 
               `Question ${currentQuestion + 1}`}
            </CardTitle>
          </CardHeader>
          <CardContent>
            <div className="mb-8">
              <p className="text-lg text-gray-800 dark:text-gray-200 leading-relaxed">
                {questions[currentQuestion]?.text[currentLang]}
              </p>
            </div>

            <div className="space-y-3 mb-8">
              {getAnswerOptions(questions[currentQuestion]?.id, selectedStyle, currentLang).map((option) => (
                <Button
                  key={option.value}
                  variant={answers[questions[currentQuestion]?.id] === option.value ? "default" : "outline"}
                  className="w-full justify-start p-4 h-auto text-left"
                  onClick={() => handleAnswer(questions[currentQuestion]?.id, option.value)}
                >
                  <div className="w-4 h-4 rounded-full border-2 border-current mr-3 flex items-center justify-center flex-shrink-0">
                    {answers[questions[currentQuestion]?.id] === option.value && (
                      <div className="w-2 h-2 rounded-full bg-current"></div>
                    )}
                  </div>
                  <span className="text-sm leading-relaxed">{option.label}</span>
                </Button>
              ))}
            </div>

            <div className="flex justify-between">
              <Button
                variant="outline"
                onClick={prevQuestion}
                disabled={currentQuestion === 0}
              >
                <ChevronLeft className="h-4 w-4 mr-2" />
                {currentLang === 'ko' ? 'ì´ì „' : currentLang === 'ja' ? 'å‰ã¸' : 'Previous'}
              </Button>
              
              <Button
                onClick={nextQuestion}
                disabled={answers[questions[currentQuestion]?.id] === undefined}
                className="bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700"
              >
                {currentQuestion === questions.length - 1 ? (
                  currentLang === 'ko' ? 'ê²°ê³¼ ë³´ê¸°' : currentLang === 'ja' ? 'çµæœã‚’è¦‹ã‚‹' : 'See Results'
                ) : (
                  <>
                    {currentLang === 'ko' ? 'ë‹¤ìŒ' : currentLang === 'ja' ? 'æ¬¡ã¸' : 'Next'}
                    <ChevronRight className="h-4 w-4 ml-2" />
                  </>
                )}
              </Button>
            </div>
          </CardContent>
        </Card>

        <div className="flex justify-center mt-8">
          <AdSense adSlot="1234567894" className="w-full max-w-2xl" />
        </div>

        {/* Detailed Content Section */}
        <div className="space-y-12 mt-16 max-w-4xl mx-auto">
          {/* MBTI í…ŒìŠ¤íŠ¸ ì†Œê°œ */}
          <section className="bg-card rounded-xl p-6 border border-border">
            <h2 className="text-2xl font-bold mb-4">MBTI ì„±ê²©ìœ í˜• í…ŒìŠ¤íŠ¸ë€?</h2>
            <p className="text-muted-foreground leading-relaxed">
              MBTI(Myers-Briggs Type Indicator)ëŠ” ê°œì¸ì˜ ì„±ê²©ì„ 16ê°€ì§€ ìœ í˜•ìœ¼ë¡œ ë¶„ë¥˜í•˜ëŠ” ì„¸ê³„ì ìœ¼ë¡œ ì¸ì •ë°›ëŠ” ì„±ê²© ê²€ì‚¬ì…ë‹ˆë‹¤. 
              ìºì„œë¦° ì¿¡ ë¸Œë¦­ìŠ¤ì™€ ì´ì‚¬ë²¨ ë¸Œë¦­ìŠ¤ ë§ˆì´ì–´ìŠ¤ê°€ ì¹¼ ìœµì˜ ì‹¬ë¦¬í•™ ì´ë¡ ì„ ë°”íƒ•ìœ¼ë¡œ ê°œë°œí–ˆìœ¼ë©°, 
              ìì‹ ì˜ ì„±ê²©ì„ ê°ê´€ì ìœ¼ë¡œ ì´í•´í•˜ê³  íƒ€ì¸ê³¼ì˜ ê´€ê³„ ê°œì„ , ì§„ë¡œ ì„ íƒ, íŒ€ì›Œí¬ í–¥ìƒì— ë„ì›€ì„ ì¤ë‹ˆë‹¤. 
              ToolHub.toolsì˜ MBTI í…ŒìŠ¤íŠ¸ëŠ” ì •í™•í•˜ê³  ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ê²°ê³¼ë¥¼ ì œê³µí•˜ì—¬ ìê¸° ì´í•´ì™€ ì„±ì¥ì— ê¸°ì—¬í•©ë‹ˆë‹¤.
            </p>
          </section>

          {/* ì£¼ìš” ê¸°ëŠ¥ */}
          <section className="bg-card rounded-xl p-6 border border-border">
            <h2 className="text-2xl font-bold mb-4">ì£¼ìš” ê¸°ëŠ¥</h2>
            <div className="grid md:grid-cols-2 gap-6">
              <div>
                <h3 className="text-lg font-semibold mb-3">4ê°€ì§€ ì„±ê²© ì°¨ì›</h3>
                <ul className="space-y-2 text-muted-foreground">
                  <li>â€¢ ì™¸í–¥(E) vs ë‚´í–¥(I): ì—ë„ˆì§€ ë°©í–¥</li>
                  <li>â€¢ ê°ê°(S) vs ì§ê´€(N): ì •ë³´ ìˆ˜ì§‘</li>
                  <li>â€¢ ì‚¬ê³ (T) vs ê°ì •(F): ì˜ì‚¬ ê²°ì •</li>
                  <li>â€¢ íŒë‹¨(J) vs ì¸ì‹(P): ìƒí™œ ì–‘ì‹</li>
                </ul>
              </div>
              <div>
                <h3 className="text-lg font-semibold mb-3">í…ŒìŠ¤íŠ¸ íŠ¹ì§•</h3>
                <ul className="space-y-2 text-muted-foreground">
                  <li>â€¢ ê³¼í•™ì  ê·¼ê±° ê¸°ë°˜ ì§ˆë¬¸</li>
                  <li>â€¢ 16ê°€ì§€ ìƒì„¸í•œ ì„±ê²© ìœ í˜•</li>
                  <li>â€¢ ì§ì—… ì ì„± ë° ì—°ì•  ê¶í•©</li>
                  <li>â€¢ ë‹¤êµ­ì–´ ì§€ì› (í•œêµ­ì–´, ì˜ì–´, ì¼ë³¸ì–´)</li>
                </ul>
              </div>
            </div>
          </section>

          {/* ìƒì„¸ ì‚¬ìš©ë²• ê°€ì´ë“œ */}
          <section className="bg-card rounded-xl p-6 border border-border">
            <h2 className="text-2xl font-bold mb-4">ìƒì„¸ ì‚¬ìš©ë²• ê°€ì´ë“œ</h2>
            <div className="space-y-4">
              <div>
                <h3 className="text-lg font-semibold mb-2">1. í…ŒìŠ¤íŠ¸ ì§„í–‰ ë°©ë²•</h3>
                <p className="text-muted-foreground">
                  60ê°œì˜ ì§ˆë¬¸ì— ì†”ì§í•˜ê³  ì§ê´€ì ìœ¼ë¡œ ë‹µë³€í•´ì£¼ì„¸ìš”. ì •ë‹µì€ ì—†ìœ¼ë©°, 
                  í‰ì†Œ ìì‹ ì˜ ëª¨ìŠµê³¼ ê°€ì¥ ê°€ê¹Œìš´ ì„ íƒì§€ë¥¼ ê³ ë¥´ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤. 
                  ë„ˆë¬´ ì˜¤ë˜ ê³ ë¯¼í•˜ì§€ ë§ê³  ì²« ë²ˆì§¸ ì§ê°ì„ ë”°ë¼ ì„ íƒí•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.
                </p>
              </div>
              <div>
                <h3 className="text-lg font-semibold mb-2">2. ì •í™•í•œ ê²°ê³¼ë¥¼ ìœ„í•œ íŒ</h3>
                <p className="text-muted-foreground">
                  ì´ìƒì ì¸ ëª¨ìŠµë³´ë‹¤ëŠ” í˜„ì¬ì˜ ìì‹ ì„ ê¸°ì¤€ìœ¼ë¡œ ë‹µë³€í•˜ì„¸ìš”. 
                  ì‚¬íšŒì ìœ¼ë¡œ ë°”ëŒì§í•˜ë‹¤ê³  ì—¬ê²¨ì§€ëŠ” ë‹µë³€ë³´ë‹¤ëŠ” ì†”ì§í•œ ìì‹ ì˜ ëª¨ìŠµì„ ì„ íƒí•˜ëŠ” ê²ƒì´ 
                  ë” ì •í™•í•œ ì„±ê²© ìœ í˜•ì„ ë„ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                </p>
              </div>
              <div>
                <h3 className="text-lg font-semibold mb-2">3. ê²°ê³¼ í•´ì„ ë° í™œìš©</h3>
                <p className="text-muted-foreground">
                  í…ŒìŠ¤íŠ¸ ì™„ë£Œ í›„ ë‚˜íƒ€ë‚˜ëŠ” 16ê°€ì§€ ì„±ê²© ìœ í˜• ì¤‘ í•˜ë‚˜ì˜ ê²°ê³¼ë¥¼ ë°›ê²Œ ë©ë‹ˆë‹¤. 
                  ê° ìœ í˜•ì˜ íŠ¹ì„±, ê°•ì , ê°œì„ ì , ì í•©í•œ ì§ì—…, ì—°ì•  ìŠ¤íƒ€ì¼ ë“±ì˜ 
                  ìƒì„¸í•œ ì •ë³´ë¥¼ í™•ì¸í•˜ì—¬ ìê¸° ì´í•´ì™€ ì„±ì¥ì— í™œìš©í•˜ì„¸ìš”.
                </p>
              </div>
            </div>
          </section>

          {/* 16ê°€ì§€ ì„±ê²© ìœ í˜• ê°œìš” */}
          <section className="bg-card rounded-xl p-6 border border-border">
            <h2 className="text-2xl font-bold mb-4">16ê°€ì§€ MBTI ì„±ê²© ìœ í˜•</h2>
            <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
              <div className="bg-primary/5 rounded-lg p-3 border border-primary/20 text-center">
                <div className="font-bold text-primary mb-1">INTJ</div>
                <div className="text-xs text-muted-foreground">ê±´ì¶•ê°€</div>
              </div>
              <div className="bg-primary/5 rounded-lg p-3 border border-primary/20 text-center">
                <div className="font-bold text-primary mb-1">INTP</div>
                <div className="text-xs text-muted-foreground">ë…¼ë¦¬ìˆ ì‚¬</div>
              </div>
              <div className="bg-primary/5 rounded-lg p-3 border border-primary/20 text-center">
                <div className="font-bold text-primary mb-1">ENTJ</div>
                <div className="text-xs text-muted-foreground">í†µì†”ì</div>
              </div>
              <div className="bg-primary/5 rounded-lg p-3 border border-primary/20 text-center">
                <div className="font-bold text-primary mb-1">ENTP</div>
                <div className="text-xs text-muted-foreground">í† ë¡ ê°€</div>
              </div>
              <div className="bg-secondary/5 rounded-lg p-3 border border-secondary/20 text-center">
                <div className="font-bold text-secondary mb-1">INFJ</div>
                <div className="text-xs text-muted-foreground">ì˜¹í˜¸ì</div>
              </div>
              <div className="bg-secondary/5 rounded-lg p-3 border border-secondary/20 text-center">
                <div className="font-bold text-secondary mb-1">INFP</div>
                <div className="text-xs text-muted-foreground">ì¤‘ì¬ì</div>
              </div>
              <div className="bg-secondary/5 rounded-lg p-3 border border-secondary/20 text-center">
                <div className="font-bold text-secondary mb-1">ENFJ</div>
                <div className="text-xs text-muted-foreground">ì„ ë„ì</div>
              </div>
              <div className="bg-secondary/5 rounded-lg p-3 border border-secondary/20 text-center">
                <div className="font-bold text-secondary mb-1">ENFP</div>
                <div className="text-xs text-muted-foreground">í™œë™ê°€</div>
              </div>
              <div className="bg-accent/5 rounded-lg p-3 border border-accent/20 text-center">
                <div className="font-bold text-accent mb-1">ISTJ</div>
                <div className="text-xs text-muted-foreground">ë¬¼ë¥˜ê´€ë¦¬ì‚¬</div>
              </div>
              <div className="bg-accent/5 rounded-lg p-3 border border-accent/20 text-center">
                <div className="font-bold text-accent mb-1">ISFJ</div>
                <div className="text-xs text-muted-foreground">ìˆ˜í˜¸ì</div>
              </div>
              <div className="bg-accent/5 rounded-lg p-3 border border-accent/20 text-center">
                <div className="font-bold text-accent mb-1">ESTJ</div>
                <div className="text-xs text-muted-foreground">ê²½ì˜ì</div>
              </div>
              <div className="bg-accent/5 rounded-lg p-3 border border-accent/20 text-center">
                <div className="font-bold text-accent mb-1">ESFJ</div>
                <div className="text-xs text-muted-foreground">ì§‘ì •ê´€</div>
              </div>
              <div className="bg-muted/20 rounded-lg p-3 border border-muted text-center">
                <div className="font-bold mb-1">ISTP</div>
                <div className="text-xs text-muted-foreground">ë§ŒëŠ¥ì¬ì£¼ê¾¼</div>
              </div>
              <div className="bg-muted/20 rounded-lg p-3 border border-muted text-center">
                <div className="font-bold mb-1">ISFP</div>
                <div className="text-xs text-muted-foreground">ëª¨í—˜ê°€</div>
              </div>
              <div className="bg-muted/20 rounded-lg p-3 border border-muted text-center">
                <div className="font-bold mb-1">ESTP</div>
                <div className="text-xs text-muted-foreground">ì‚¬ì—…ê°€</div>
              </div>
              <div className="bg-muted/20 rounded-lg p-3 border border-muted text-center">
                <div className="font-bold mb-1">ESFP</div>
                <div className="text-xs text-muted-foreground">ì—°ì˜ˆì¸</div>
              </div>
            </div>
          </section>

          {/* ìì£¼ ë¬»ëŠ” ì§ˆë¬¸ FAQ */}
          <section className="bg-card rounded-xl p-6 border border-border">
            <h2 className="text-2xl font-bold mb-4">ìì£¼ ë¬»ëŠ” ì§ˆë¬¸ (FAQ)</h2>
            <div className="space-y-4">
              <div className="border-b border-border pb-4">
                <h3 className="font-semibold mb-2">Q. MBTI ê²°ê³¼ê°€ ë°”ë€” ìˆ˜ ìˆë‚˜ìš”?</h3>
                <p className="text-muted-foreground text-sm">
                  A. ë„¤, ê°œì¸ì˜ ì„±ì¥ê³¼ ê²½í—˜ì— ë”°ë¼ ì„±ê²©ì´ ë³€í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 
                  ì¼ë°˜ì ìœ¼ë¡œëŠ” í•µì‹¬ ì„±í–¥ì´ ìœ ì§€ë˜ì§€ë§Œ, í™˜ê²½ê³¼ ë…¸ë ¥ì— ë”°ë¼ 
                  ì¼ë¶€ íŠ¹ì„±ì€ ë³€í™”í•  ìˆ˜ ìˆì–´ ì •ê¸°ì ì¸ ì¬ê²€ì‚¬ë¥¼ ê¶Œì¥í•©ë‹ˆë‹¤.
                </p>
              </div>
              <div className="border-b border-border pb-4">
                <h3 className="font-semibold mb-2">Q. ì–´ë–¤ ìœ í˜•ì´ ê°€ì¥ ì¢‹ì€ê°€ìš”?</h3>
                <p className="text-muted-foreground text-sm">
                  A. ëª¨ë“  MBTI ìœ í˜•ì€ ê³ ìœ í•œ ê°•ì ê³¼ ê°€ì¹˜ë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. 
                  'ì¢‹ì€' ìœ í˜•ì€ ì—†ìœ¼ë©°, ê° ìœ í˜•ì˜ íŠ¹ì„±ì„ ì´í•´í•˜ê³  
                  ê°œì¸ì˜ ê°•ì ì„ ë°œì „ì‹œí‚¤ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.
                </p>
              </div>
              <div className="border-b border-border pb-4">
                <h3 className="font-semibold mb-2">Q. ì—°ì•  ê¶í•©ì€ ì–¼ë§ˆë‚˜ ì •í™•í•œê°€ìš”?</h3>
                <p className="text-muted-foreground text-sm">
                  A. MBTI ê¶í•©ì€ ì°¸ê³  ìë£Œì¼ ë¿ì´ë©°, ì‹¤ì œ ê´€ê³„ì—ì„œëŠ” 
                  ì†Œí†µ, ì´í•´, ë…¸ë ¥ì´ ë” ì¤‘ìš”í•©ë‹ˆë‹¤. ë‹¤ë¥¸ ìœ í˜•ì´ë¼ë„ 
                  ì„œë¡œë¥¼ ì´í•´í•˜ê³  ì¡´ì¤‘í•œë‹¤ë©´ ì¢‹ì€ ê´€ê³„ë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                </p>
              </div>
              <div>
                <h3 className="font-semibold mb-2">Q. ì§ì—… ì„ íƒì— ì–¼ë§ˆë‚˜ ì°¸ê³ í•´ì•¼ í•˜ë‚˜ìš”?</h3>
                <p className="text-muted-foreground text-sm">
                  A. MBTIëŠ” ì§ì—… ì„ íƒì˜ í•œ ê°€ì§€ ì°¸ê³  ìë£Œì…ë‹ˆë‹¤. 
                  ê°œì¸ì˜ ê´€ì‹¬ì‚¬, ëŠ¥ë ¥, ê°€ì¹˜ê´€, ì‹œì¥ ìƒí™© ë“±ì„ 
                  ì¢…í•©ì ìœ¼ë¡œ ê³ ë ¤í•˜ì—¬ ì§„ë¡œë¥¼ ê²°ì •í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.
                </p>
              </div>
            </div>
          </section>

          {/* ì‚¬ìš© íŒê³¼ ìš”ë ¹ */}
          <section className="bg-card rounded-xl p-6 border border-border">
            <h2 className="text-2xl font-bold mb-4">
              {currentLang === 'ko' ? 'MBTI í™œìš© íŒ' : 
               currentLang === 'ja' ? 'MBTIæ´»ç”¨ãƒ’ãƒ³ãƒˆ' : 
               'MBTI Usage Tips'}
            </h2>
            <div className="grid md:grid-cols-2 gap-6">
              <div>
                <h3 className="text-lg font-semibold mb-3">ìê¸° ì´í•´</h3>
                <ul className="space-y-2 text-muted-foreground">
                  <li>â€¢ ê°•ì ê³¼ ì•½ì  ê°ê´€ì  íŒŒì•…</li>
                  <li>â€¢ ìŠ¤íŠ¸ë ˆìŠ¤ ìš”ì¸ ë° ëŒ€ì²˜ë²• ì´í•´</li>
                  <li>â€¢ ì„±ì¥ ë°©í–¥ ì„¤ì •</li>
                  <li>â€¢ ì˜ì‚¬ê²°ì • íŒ¨í„´ ë¶„ì„</li>
                </ul>
              </div>
              <div>
                <h3 className="text-lg font-semibold mb-3">ê´€ê³„ ê°œì„ </h3>
                <ul className="space-y-2 text-muted-foreground">
                  <li>â€¢ íƒ€ì¸ê³¼ì˜ ì†Œí†µ ë°©ì‹ ê°œì„ </li>
                  <li>â€¢ íŒ€ì›Œí¬ í–¥ìƒ</li>
                  <li>â€¢ ê°ˆë“± í•´ê²° ëŠ¥ë ¥ ì¦ì§„</li>
                  <li>â€¢ ë¦¬ë”ì‹­ ìŠ¤íƒ€ì¼ ê°œë°œ</li>
                </ul>
              </div>
            </div>
          </section>
        </div>
      </div>
    </div>
  );
}