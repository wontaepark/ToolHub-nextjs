// Korean weather translation mappings
export const weatherTranslations = {
  ko: {
    // Weather conditions
    'Clear': '맑음',
    'Clouds': '흐림',
    'Rain': '비',
    'Snow': '눈',
    'Thunderstorm': '뇌우',
    'Drizzle': '이슬비',
    'Mist': '안개',
    'Fog': '짙은 안개',
    'Haze': '실안개',
    'Dust': '먼지',
    'Sand': '모래바람',
    'Ash': '화산재',
    'Squall': '스콜',
    'Tornado': '토네이도',
    
    // Detailed descriptions
    'clear sky': '맑음',
    'few clouds': '구름 조금',
    'scattered clouds': '구름 많음',
    'broken clouds': '흐림',
    'overcast clouds': '구름 많이 낀',
    'light rain': '가벼운 비',
    'moderate rain': '비',
    'heavy intensity rain': '강한 비',
    'very heavy rain': '매우 강한 비',
    'extreme rain': '극한 폭우',
    'freezing rain': '얼어붙는 비',
    'light intensity shower rain': '가벼운 소나기',
    'shower rain': '소나기',
    'heavy intensity shower rain': '강한 소나기',
    'ragged shower rain': '불규칙한 소나기',
    'light snow': '가벼운 눈',
    'snow': '눈',
    'heavy snow': '폭설',
    'sleet': '진눈깨비',
    'light shower sleet': '가벼운 진눈깨비',
    'shower sleet': '진눈깨비',
    'light rain and snow': '비와 눈',
    'rain and snow': '비와 눈',
    'light shower snow': '가벼운 눈보라',
    'shower snow': '눈보라',
    'heavy shower snow': '강한 눈보라',
    'mist': '안개',
    'smoke': '연기',
    'haze': '실안개',
    'sand/dust whirls': '모래/먼지 소용돌이',
    'fog': '짙은 안개',
    'sand': '모래바람',
    'dust': '먼지',
    'volcanic ash': '화산재',
    'squalls': '스콜',
    'tornado': '토네이도',
    'thunderstorm with light rain': '가벼운 비를 동반한 뇌우',
    'thunderstorm with rain': '비를 동반한 뇌우',
    'thunderstorm with heavy rain': '강한 비를 동반한 뇌우',
    'light thunderstorm': '가벼운 뇌우',
    'thunderstorm': '뇌우',
    'heavy thunderstorm': '강한 뇌우',
    'ragged thunderstorm': '불규칙한 뇌우',
    'thunderstorm with light drizzle': '가벼운 이슬비를 동반한 뇌우',
    'thunderstorm with drizzle': '이슬비를 동반한 뇌우',
    'thunderstorm with heavy drizzle': '강한 이슬비를 동반한 뇌우',
    'light intensity drizzle': '가벼운 이슬비',
    'drizzle': '이슬비',
    'heavy intensity drizzle': '강한 이슬비',
    'light intensity drizzle rain': '가벼운 이슬비',
    'drizzle rain': '이슬비',
    'heavy intensity drizzle rain': '강한 이슬비',
    'shower rain and drizzle': '소나기와 이슬비',
    'heavy shower rain and drizzle': '강한 소나기와 이슬비',
    'shower drizzle': '소나기성 이슬비',
    
    // Weather UI terms
    'Scattered Clouds': '구름 많음',
    'Few Clouds': '구름 조금',
    'Light Rain': '가벼운 비',
    'Today': '오늘',
    '5-Day Weather Forecast': '5일 날씨 예보',
    'Check the weather forecast for the next 5 days.': '향후 5일간의 날씨 예보를 확인하세요.',
    
    // Temperature and units
    '°C': '°C',
    '°F': '°F',
    'Temperature': '온도',
    'Feels like': '체감온도',
    'Humidity': '습도',
    'Pressure': '기압',
    'Wind': '바람',
    'Visibility': '가시거리',
    'UV Index': '자외선 지수',
    'Sunrise': '일출',
    'Sunset': '일몰'
  },
  
  en: {
    // English weather translations
    'Clear': 'Clear',
    'Clouds': 'Clouds',
    'Rain': 'Rain',
    'Snow': 'Snow',
    'Thunderstorm': 'Thunderstorm',
    'Drizzle': 'Drizzle',
    'Mist': 'Mist',
    'Fog': 'Fog',
    'Haze': 'Haze',
    'Dust': 'Dust',
    'Sand': 'Sandstorm',
    'Ash': 'Volcanic Ash',
    'Squall': 'Squall',
    'Tornado': 'Tornado',
    'clear sky': 'Clear Sky',
    'few clouds': 'Few Clouds',
    'scattered clouds': 'Scattered Clouds',
    'broken clouds': 'Broken Clouds', 
    'overcast clouds': 'Overcast Clouds',
    '구름 많이 낀': 'Overcast Clouds',
    '구름 많음': 'Scattered Clouds',
    '가벼운 비': 'Light Rain',
    '흐림': 'Cloudy',
    '맑음': 'Clear',
    '구름 조금': 'Few Clouds',
    '비': 'Rain',
    '눈': 'Snow',
    '뇌우': 'Thunderstorm',
    '안개': 'Fog',
    '소나기': 'Shower',
    '진눈깨비': 'Sleet',
    'light rain': 'Light Rain',
    'moderate rain': 'Moderate Rain',
    'heavy intensity rain': 'Heavy Rain',
    'very heavy rain': 'Very Heavy Rain',
    'extreme rain': 'Extreme Rain',
    'freezing rain': 'Freezing Rain',
    'light intensity shower rain': 'Light Shower Rain',
    'shower rain': 'Shower Rain',
    'heavy intensity shower rain': 'Heavy Shower Rain',
    'ragged shower rain': 'Ragged Shower Rain',
    'light snow': 'Light Snow',
    'snow': 'Snow',
    'heavy snow': 'Heavy Snow',
    'sleet': 'Sleet',
    'light shower sleet': 'Light Shower Sleet',
    'shower sleet': 'Shower Sleet',
    'light rain and snow': 'Light Rain and Snow',
    'rain and snow': 'Rain and Snow',
    'light shower snow': 'Light Shower Snow',
    'shower snow': 'Shower Snow',
    'heavy shower snow': 'Heavy Shower Snow',
    'mist': 'Mist',
    'smoke': 'Smoke',
    'haze': 'Haze',
    'sand/dust whirls': 'Sand/Dust Whirls',
    'fog': 'Fog',
    'sand': 'Sand',
    'dust': 'Dust',
    'volcanic ash': 'Volcanic Ash',
    'squalls': 'Squalls',
    'tornado': 'Tornado',
    'thunderstorm with light rain': 'Thunderstorm with Light Rain',
    'thunderstorm with rain': 'Thunderstorm with Rain',
    'thunderstorm with heavy rain': 'Thunderstorm with Heavy Rain',
    'light thunderstorm': 'Light Thunderstorm',
    'thunderstorm': 'Thunderstorm',
    'heavy thunderstorm': 'Heavy Thunderstorm',
    'ragged thunderstorm': 'Ragged Thunderstorm',
    'thunderstorm with light drizzle': 'Thunderstorm with Light Drizzle',
    'thunderstorm with drizzle': 'Thunderstorm with Drizzle',
    'thunderstorm with heavy drizzle': 'Thunderstorm with Heavy Drizzle',
    'light intensity drizzle': 'Light Drizzle',
    'drizzle': 'Drizzle',
    'heavy intensity drizzle': 'Heavy Drizzle',
    'light intensity drizzle rain': 'Light Drizzle Rain',
    'drizzle rain': 'Drizzle Rain',
    'heavy intensity drizzle rain': 'Heavy Drizzle Rain',
    'shower rain and drizzle': 'Shower Rain and Drizzle',
    'heavy shower rain and drizzle': 'Heavy Shower Rain and Drizzle',
    'shower drizzle': 'Shower Drizzle',
    'Scattered Clouds': 'Scattered Clouds',
    'Few Clouds': 'Few Clouds',
    'Light Rain': 'Light Rain',
    'Today': 'Today',
    '5-Day Weather Forecast': '5-Day Weather Forecast',
    'Check the weather forecast for the next 5 days.': 'Check the weather forecast for the next 5 days.',
    'Temperature': 'Temperature',
    'Feels like': 'Feels like',
    'Humidity': 'Humidity',
    'Pressure': 'Pressure',
    'Wind': 'Wind',
    'Visibility': 'Visibility',
    'UV Index': 'UV Index',
    'Sunrise': 'Sunrise',
    'Sunset': 'Sunset'
  },
  
  ja: {
    // Japanese weather translations
    'Clear': '晴れ',
    'Clouds': '曇り',
    'Rain': '雨',
    'Snow': '雪',
    'Thunderstorm': '雷雨',
    'Drizzle': '霧雨',
    'Mist': '霧',
    'Fog': '濃霧',
    'Haze': 'かすみ',
    'Dust': '塵',
    'Sand': '砂嵐',
    'Ash': '火山灰',
    'Squall': 'スコール',
    'Tornado': '竜巻',
    'clear sky': '快晴',
    'few clouds': '薄曇り',
    'scattered clouds': '曇り',
    'broken clouds': '曇り',
    'overcast clouds': '曇天',
    '구름 많이 낀': '曇天',
    '구름 많음': '曇り',
    '가벼운 비': '小雨',
    '흐림': '曇り',
    '맑음': '晴れ',
    '구름 조금': '薄曇り',
    '비': '雨',
    '눈': '雪',
    '뇌우': '雷雨',
    '안개': '霧',
    '소나기': 'にわか雨',
    '진눈깨비': 'みぞれ',
    'light rain': '小雨',
    'moderate rain': '雨',
    'heavy intensity rain': '大雨',
    'very heavy rain': '激しい雨',
    'extreme rain': '猛烈な雨',
    'freezing rain': '着氷性の雨',
    'light intensity shower rain': '弱いにわか雨',
    'shower rain': 'にわか雨',
    'heavy intensity shower rain': '激しいにわか雨',
    'ragged shower rain': '不規則なにわか雨',
    'light snow': '小雪',
    'snow': '雪',
    'heavy snow': '大雪',
    'sleet': 'みぞれ',
    'light shower sleet': '弱いみぞれ',
    'shower sleet': 'みぞれ',
    'light rain and snow': '雨と雪',
    'rain and snow': '雨と雪',
    'light shower snow': '弱い雪',
    'shower snow': '雪',
    'heavy shower snow': '大雪',
    'mist': '霧',
    'smoke': '煙',
    'haze': 'かすみ',
    'sand/dust whirls': '砂塵竜巻',
    'fog': '濃霧',
    'sand': '砂',
    'dust': '塵',
    'volcanic ash': '火山灰',
    'squalls': 'スコール',
    'tornado': '竜巻',
    'thunderstorm with light rain': '小雨を伴う雷雨',
    'thunderstorm with rain': '雨を伴う雷雨',
    'thunderstorm with heavy rain': '大雨を伴う雷雨',
    'light thunderstorm': '弱い雷雨',
    'thunderstorm': '雷雨',
    'heavy thunderstorm': '激しい雷雨',
    'ragged thunderstorm': '不規則な雷雨',
    'thunderstorm with light drizzle': '弱い霧雨を伴う雷雨',
    'thunderstorm with drizzle': '霧雨を伴う雷雨',
    'thunderstorm with heavy drizzle': '激しい霧雨を伴う雷雨',
    'light intensity drizzle': '弱い霧雨',
    'drizzle': '霧雨',
    'heavy intensity drizzle': '激しい霧雨',
    'light intensity drizzle rain': '弱い霧雨',
    'drizzle rain': '霧雨',
    'heavy intensity drizzle rain': '激しい霧雨',
    'shower rain and drizzle': 'にわか雨と霧雨',
    'heavy shower rain and drizzle': '激しいにわか雨と霧雨',
    'shower drizzle': 'にわか雨性霧雨',
    'Scattered Clouds': '曇り',
    'Few Clouds': '薄曇り',
    'Light Rain': '小雨',
    'Today': '今日',
    '5-Day Weather Forecast': '5日間天気予報',
    'Check the weather forecast for the next 5 days.': '今後5日間の天気予報をチェックしてください。',
    'Temperature': '気温',
    'Feels like': '体感温度',
    'Humidity': '湿度',
    'Pressure': '気圧',
    'Wind': '風',
    'Visibility': '視界',
    'UV Index': 'UV指数',
    'Sunrise': '日の出',
    'Sunset': '日の入り'
  }
};

export function translateWeatherCondition(condition: string, targetLang: string = 'ko'): string {
  const translations = weatherTranslations[targetLang as keyof typeof weatherTranslations];
  if (!translations) return condition;
  
  // Try exact match first
  if (translations[condition as keyof typeof translations]) {
    return translations[condition as keyof typeof translations];
  }
  
  // Try case-insensitive match
  const lowerCondition = condition.toLowerCase();
  for (const [key, value] of Object.entries(translations)) {
    if (key.toLowerCase() === lowerCondition) {
      return value;
    }
  }
  
  return condition; // Return original if no translation found
}

export function translateWeatherData(weatherData: any, targetLang: string = 'ko'): any {
  if (targetLang === 'en' || !weatherData) return weatherData;
  
  const translated = { ...weatherData };
  
  // Translate current weather
  if (translated.current?.weather) {
    translated.current.weather = {
      ...translated.current.weather,
      main: translateWeatherCondition(translated.current.weather.main, targetLang),
      description: translateWeatherCondition(translated.current.weather.description, targetLang)
    };
  }
  
  // Translate forecast
  if (translated.forecast && Array.isArray(translated.forecast)) {
    translated.forecast = translated.forecast.map((day: any) => ({
      ...day,
      weather: {
        ...day.weather,
        main: translateWeatherCondition(day.weather.main, targetLang),
        description: translateWeatherCondition(day.weather.description, targetLang)
      }
    }));
  }
  
  // Translate hourly weather
  if (translated.hourly && Array.isArray(translated.hourly)) {
    translated.hourly = translated.hourly.map((hour: any) => ({
      ...hour,
      weather: {
        ...hour.weather,
        main: translateWeatherCondition(hour.weather.main, targetLang),
        description: translateWeatherCondition(hour.weather.description, targetLang)
      }
    }));
  }
  
  return translated;
}